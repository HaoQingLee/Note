# é˜¶æ®µ

## **å­¦ä¹ ç›®æ ‡**

1. äº†è§£å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œé€‰æ‹© 3ã€4 ç§è¿›è¡Œæ·±å…¥äº†è§£ï¼Œå¹¶åœ¨åç»­ä¸°å¯Œç»„ä»¶åº“è¿‡ç¨‹ä¸­è¿›è¡Œå®è·µ
2. äº†è§£å‰ç«¯ç»„ä»¶è®¾è®¡åŸåˆ™ï¼ŒçŸ¥é“å¦‚ä½•è®¾è®¡ä¸€ä¸ªå‰ç«¯é€šç”¨ç»„ä»¶ï¼Œå¹¶åœ¨åç»­å®è·µ

## **ğŸ“š å­¦ä¹ å†…å®¹(5d)**

1. äº†è§£å¸¸è§çš„è®¾è®¡æ¨¡å¼(3ã€4 ç§å³å¯)
   1. æŒ‰ç±»å‹åˆ’åˆ†
      1. åˆ›å»ºå‹
         1. Constructorï¼ˆæ„é€ å™¨ï¼‰
         2. Factoryï¼ˆå·¥å‚ï¼‰
         3. Abstractï¼ˆæŠ½è±¡ï¼‰
         4. Prototypeï¼ˆåŸå‹ï¼‰
         5. Singletonï¼ˆå•ä¾‹ï¼‰
         6. Builderï¼ˆç”Ÿæˆå™¨ï¼‰
      2. ç»“æ„å‹
         1. Decoratorï¼ˆè£…é¥°è€…ï¼‰
         2. Facadeï¼ˆå¤–è§‚ï¼‰
         3. Flyweightï¼ˆäº«å…ƒï¼‰
         4. Adapterï¼ˆé€‚é…å™¨ï¼‰
         5. Proxyï¼ˆä»£ç†)
      3. è¡Œä¸ºå‹
         1. Iteratorï¼ˆè¿­ä»£å™¨ï¼‰
         2. Mediatorï¼ˆä¸­ä»‹è€…ï¼‰
         3. Observerï¼ˆè§‚å¯Ÿè€…ï¼‰
         4. Visitorï¼ˆè®¿é—®è€…ï¼‰
   2. ä¸šåŠ¡åœºæ™¯
      1. ä»£ç å°è£…
         1. å·¥å‚æ¨¡å¼
         2. åˆ›å»ºè€…æ¨¡å¼
         3. å•ä¾‹æ¨¡å¼
         4. åŸå‹æ¨¡å¼
      2. ä»£ç å¤ç”¨æ€§
         1. æ¡¥æ¥æ¨¡å¼
         2. äº«å…ƒæ¨¡å¼
         3. æ¨¡æ¿æ–¹æ³•æ¨¡å¼
      3. ä»£ç è´¨é‡
         1. ç­–ç•¥/çŠ¶æ€ æ¨¡å¼
         2. å¤–è§‚æ¨¡å¼
         3. è¿­ä»£å™¨æ¨¡å¼
         4. å¤‡å¿˜å½•æ¨¡å¼
      4. æ¡†æ¶æºç é‡Œç”¨äºæå‡ä»£ç æ‰©å±•æ€§çš„æ¨¡å¼
         1. èŒè´£é“¾æ¨¡å¼
         2. è§‚å¯Ÿè€…æ¨¡å¼
         3. è£…é¥°å™¨æ¨¡å¼
         4. é€‚é…å™¨æ¨¡å¼
2. äº†è§£å‰ç«¯ç»„ä»¶è®¾è®¡åŸåˆ™
3. äº†è§£è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™
   1. å•ä¸€èŒè´£åŸåˆ™ï¼ˆç±»å’Œæ–¹æ³•ï¼Œæ¥å£ï¼‰
   2. å¼€é—­åŸåˆ™ï¼ˆæ‰©å±•å¼€æ”¾ï¼Œä¿®æ”¹å…³é—­ï¼‰
   3. é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆåŸºç±»å’Œå­ç±»ä¹‹é—´çš„å…³ç³»ï¼‰
   4. ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆä¾èµ–æŠ½è±¡æ¥å£ï¼Œè€Œä¸æ˜¯å…·ä½“å¯¹è±¡ï¼‰
   5. æ¥å£éš”ç¦»åŸåˆ™ï¼ˆæ¥å£æŒ‰ç…§åŠŸèƒ½ç»†åˆ†ï¼‰
   6. è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆç±»ä¸ç±»ä¹‹é—´çš„äº²ç–å…³ç³»ï¼‰

## **ğŸ æˆæœ**

1. ä¸ªäººåšå®¢æ–‡ç« 
   1. äº†è§£è®¾è®¡æ¨¡å¼çš„åº”ç”¨åœºæ™¯
   2. äº†è§£å¸¸è§çš„è®¾è®¡æ¨¡å¼(3ã€4 ç§)
   3. å‰ç«¯ç»„ä»¶è®¾è®¡åŸåˆ™
2. åç»­åœ¨ä¸°å¯Œç»„ä»¶åº“è¿‡ç¨‹ä¸­æœ‰æ„è¯†çš„åº”ç”¨æ‰€é€‰æ‹©æ·±å…¥äº†è§£å’Œå®è·µçš„è®¾è®¡æ¨¡å¼

## **ğŸ‘†ğŸ» è¿›é˜¶**

1. [ç²¾è¯»è®¾è®¡æ¨¡å¼](https://github.com/ascoders/weekly/tree/master/è®¾è®¡æ¨¡å¼)
2. [å‰ç«¯ç»„ä»¶è®¾è®¡åŸåˆ™](https://juejin.cn/post/6844903767108747278#heading-0)
   1. [åŸæ–‡](https://engineering.carsguide.com.au/front-end-component-design-principles-55c5963998c9)
3. [è®¾è®¡å¯é  React ç»„ä»¶çš„ 7 ä¸ªåŸåˆ™](https://dmitripavlutin.com/7-architectural-attributes-of-a-reliable-react-component/)

## **ğŸ“¢ æ³¨æ„**

1. [æ¨èä¹¦ç±: JavaScript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µ](https://weread.qq.com/web/bookDetail/6bf3215071a123016bf0b74)

## **èµ„æ–™å‚è€ƒ**

1. [ä»£ç å°è£…ä¸è®¾è®¡æ¨¡å¼](https://juejin.cn/post/6844904165836062734#heading-3)
2. [ä»£ç å¤ç”¨æ€§ä¸è®¾è®¡æ¨¡å¼](https://juejin.cn/post/6844904168017100813)
3. [ä»£ç è´¨é‡ä¸è®¾è®¡æ¨¡å¼](https://juejin.cn/post/6844904180885225486)
4. [æ¡†æ¶æºç ä¸è®¾è®¡æ¨¡å¼](https://juejin.cn/post/6844904174451179528)
5. [å·¥ä½œä¸­ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼](https://juejin.cn/post/7023536216138055716)

# è®¾è®¡æ¨¡å¼

## ä¸€ã€æ¨¡å¼åˆ†ç±»

æ ¹æ®å®ƒä»¬çš„ç”¨é€”ï¼Œè®¾è®¡æ¨¡å¼å¯åˆ†ä¸º**åˆ›å»ºå‹**(Creational)ï¼Œ**ç»“æ„å‹**(Structural)å’Œ**è¡Œä¸ºå‹**(Behavioral)ä¸‰ç§ï¼Œå…¶ä¸­åˆ›å»ºå‹æ¨¡å¼ä¸»è¦ç”¨äºæè¿°å¦‚ä½•åˆ›å»ºå¯¹è±¡ï¼Œç»“æ„å‹æ¨¡å¼ä¸»è¦ç”¨äºæè¿°å¦‚ä½•å®ç°ç±»æˆ–å¯¹è±¡çš„ç»„åˆï¼Œè¡Œä¸ºå‹æ¨¡å¼ä¸»è¦ç”¨äºæè¿°ç±»æˆ–å¯¹è±¡æ€æ ·äº¤äº’ä»¥åŠæ€æ ·åˆ†é…èŒè´£ã€‚

æ­¤å¤–ï¼Œæ ¹æ®æŸä¸ªæ¨¡å¼ä¸»è¦æ˜¯ç”¨äºå¤„ç†ç±»ä¹‹é—´çš„å…³ç³»è¿˜æ˜¯å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œè®¾è®¡æ¨¡å¼è¿˜å¯ä»¥åˆ†ä¸ºç±»æ¨¡å¼å’Œå¯¹è±¡æ¨¡å¼ã€‚æˆ‘ä»¬ç»å¸¸å°†ä¸¤ç§åˆ†ç±»æ–¹å¼ç»“åˆä½¿ç”¨ï¼Œå¦‚å•ä¾‹æ¨¡å¼æ˜¯å¯¹è±¡åˆ›å»ºå‹æ¨¡å¼ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ç±»è¡Œä¸ºå‹æ¨¡å¼ã€‚

### åˆ›å»ºå‹

#### å·¥å‚æ¨¡å¼

##### ç®€å•å·¥å‚æ¨¡å¼

> ç®€å•å·¥å‚æ¨¡å¼(Simple Factory Pattern)ï¼šä¸“é—¨å®šä¹‰ä¸€ä¸ªç±»ï¼ˆå·¥å‚ç±»ï¼‰æ¥è´Ÿè´£åˆ›å»ºå…¶ä»–ç±»çš„å®ä¾‹ã€‚å¯ä»¥æ ¹æ®åˆ›å»ºæ–¹æ³•çš„å‚æ•°æ¥è¿”å›ä¸åŒç±»çš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹é€šå¸¸éƒ½å…·æœ‰å…±åŒçš„çˆ¶ç±»ã€‚

**ä¸¾ä¾‹ï¼š**ç®€å•å·¥å‚æ¨¡å¼åƒä¸€ä¸ªä»£å·¥å‚ï¼Œä¸€ä¸ªå·¥å‚å¯ä»¥ç”Ÿäº§å¤šç§äº§å“ã€‚ä¸¾ä¸ªæ —å­ï¼Œä¸€ä¸ªé¥®æ–™åŠ å·¥å‚åŒæ—¶å¸®ç™¾äº‹å¯ä¹å’Œå¯å£å¯ä¹ç”Ÿäº§ï¼ŒåŠ å·¥å‚æ ¹æ®è¾“å…¥å‚æ•°`Type`æ¥ç”Ÿäº§ä¸åŒçš„äº§å“ã€‚

**ä¼˜ç‚¹ï¼š**

- ä½¿ç”¨è€…åªéœ€è¦ç»™å·¥å‚ç±»ä¼ å…¥ä¸€ä¸ªæ­£ç¡®çš„çº¦å®šå¥½çš„å‚æ•°ï¼Œå°±å¯ä»¥è·å–ä½ æ‰€éœ€è¦çš„å¯¹è±¡ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…¶åˆ›å»ºç»†èŠ‚ï¼Œä¸€å®šç¨‹åº¦ä¸Šå‡å°‘ç³»ç»Ÿçš„è€¦åˆï¼›
- å®¢æˆ·ç«¯æ— é¡»çŸ¥é“æ‰€åˆ›å»ºçš„å…·ä½“äº§å“ç±»çš„ç±»åï¼Œåªéœ€è¦çŸ¥é“å…·ä½“äº§å“ç±»æ‰€å¯¹åº”çš„å‚æ•°å³å¯ï¼Œå‡å°‘å¼€å‘è€…çš„è®°å¿†æˆæœ¬ã€‚

**ç¼ºç‚¹ï¼š**

- å¦‚æœä¸šåŠ¡ä¸Šæ·»åŠ æ–°äº§å“çš„è¯ï¼Œå°±éœ€è¦ä¿®æ”¹å·¥å‚ç±»åŸæœ‰çš„åˆ¤æ–­é€»è¾‘ï¼Œè¿™å…¶å®è¿èƒŒäº†å¼€é—­åŸåˆ™ï¼›
- åœ¨äº§å“ç±»å‹è¾ƒå¤šæ—¶ï¼Œæœ‰å¯èƒ½é€ æˆå·¥å‚é€»è¾‘è¿‡äºå¤æ‚ã€‚æ‰€ä»¥ç®€å•å·¥å‚æ¨¡å¼æ¯”è¾ƒé€‚åˆäº§å“ç§ç±»è¾ƒå°‘ä¸”å¢å¤šçš„æ¦‚ç‡å¾ˆä½çš„æƒ…å†µã€‚

##### å·¥å‚æ¨¡å¼

> å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method Pattern)åˆç§°ä¸ºå·¥å‚æ¨¡å¼ï¼Œå·¥å‚çˆ¶ç±»è´Ÿè´£å®šä¹‰åˆ›å»ºäº§å“å¯¹è±¡çš„å…¬å…±æ¥å£ï¼Œè€Œå·¥å‚å­ç±»åˆ™è´Ÿè´£ç”Ÿæˆå…·ä½“çš„äº§å“å¯¹è±¡ï¼Œå³é€šè¿‡ä¸åŒçš„å·¥å‚å­ç±»æ¥åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡ã€‚

**ä¸¾ä¾‹ï¼š**å·¥å‚æ–¹æ³•å’Œç®€å•å·¥å‚æœ‰äº›åŒºåˆ«ï¼Œç®€å•å·¥å‚æ˜¯ç”±ä¸€ä¸ªä»£å·¥å‚ç”Ÿäº§ä¸åŒçš„äº§å“ï¼Œè€Œå·¥å‚æ–¹æ³•æ˜¯å¯¹å·¥å‚è¿›è¡ŒæŠ½è±¡åŒ–ï¼Œä¸åŒäº§å“éƒ½ç”±ä¸“é—¨çš„å…·ä½“å·¥å‚æ¥ç”Ÿäº§ã€‚å¯å£å¯ä¹å·¥å‚ä¸“é—¨ç”Ÿäº§å¯å£å¯ä¹ï¼Œç™¾äº‹å¯ä¹å·¥å‚ä¸“é—¨ç”Ÿäº§ç™¾äº‹å¯ä¹ã€‚

**ä¼˜ç‚¹ï¼š**

- ç”¨æˆ·åªéœ€è¦å…³å¿ƒå…¶æ‰€éœ€äº§å“å¯¹åº”çš„å…·ä½“å·¥å‚æ˜¯å“ªä¸€ä¸ªå³å¯ï¼Œä¸éœ€è¦å…³å¿ƒäº§å“çš„åˆ›å»ºç»†èŠ‚ï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“å…·ä½“äº§å“ç±»çš„ç±»åï¼›
- å½“ç³»ç»Ÿä¸­åŠ å…¥æ–°äº§å“æ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹æŠ½è±¡å·¥å‚å’ŒæŠ½è±¡äº§å“æä¾›çš„æ¥å£ï¼Œä¹Ÿæ— é¡»ä¿®æ”¹å®¢æˆ·ç«¯å’Œå…¶ä»–çš„å…·ä½“å·¥å‚å’Œå…·ä½“äº§å“ï¼Œè€Œåªè¦æ·»åŠ ä¸€ä¸ªå…·ä½“å·¥å‚å’Œä¸å…¶å¯¹åº”çš„å…·ä½“äº§å“å°±å¯ä»¥äº†ï¼Œç¬¦åˆäº†å¼€é—­åŸåˆ™ã€‚

**ç¼ºç‚¹ï¼š**

- å½“ç³»ç»Ÿä¸­åŠ å…¥æ–°äº§å“æ—¶ï¼Œé™¤äº†éœ€è¦æä¾›æ–°çš„äº§å“ç±»ä¹‹å¤–ï¼Œè¿˜è¦æä¾›ä¸å…¶å¯¹åº”çš„å…·ä½“å·¥å‚ç±»ã€‚å› æ­¤ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°å°†æˆå¯¹å¢åŠ ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚

#### æŠ½è±¡å·¥å‚æ¨¡å¼

> æŠ½è±¡å·¥å‚æ¨¡å¼(Abstract Factory Pattern)ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— é¡»æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚

**ä¸¾ä¾‹ï¼š**

æŠ½è±¡å·¥å‚å’Œå·¥å‚æ–¹æ³•ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œç”Ÿäº§äº§å“çš„å·¥å‚æ˜¯æŠ½è±¡çš„ã€‚ä¸¾ä¾‹ï¼Œå¯å£å¯ä¹å…¬å¸ç”Ÿäº§å¯ä¹çš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦ç”Ÿäº§è£…å¯ä¹çš„ç“¶å­å’Œç®±å­ï¼Œç“¶å­å’Œç®±å­ä¹Ÿæ˜¯å¯å£å¯ä¹ä¸“å±å®šåˆ¶çš„ï¼ŒåŒæ ·ç™¾äº‹å¯ä¹å…¬å¸ä¹Ÿä¼šæœ‰è¿™ä¸ªéœ€æ±‚ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„å·¥å‚ä¸ä»…ä»…æ˜¯ç”Ÿäº§å¯ä¹é¥®æ–™çš„å·¥å‚ï¼Œè¿˜å¿…é¡»åŒæ—¶ç”Ÿäº§åŒä¸€ä¸»é¢˜çš„ç“¶å­å’Œç®±å­ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡çš„ä¸»é¢˜å·¥å‚ï¼Œä¸“é—¨ç”Ÿäº§åŒä¸€ä¸»é¢˜çš„ä¸åŒå•†å“ã€‚

**ä¼˜ç‚¹ï¼š**

- å…·ä½“äº§å“åœ¨åº”ç”¨å±‚ä»£ç éš”ç¦»ï¼Œä¸éœ€è¦å…³å¿ƒäº§å“ç»†èŠ‚ã€‚åªéœ€è¦çŸ¥é“è‡ªå·±éœ€è¦çš„äº§å“æ˜¯å±äºå“ªä¸ªå·¥å‚çš„å³å¯ å½“ä¸€ä¸ªäº§å“æ—ä¸­çš„å¤šä¸ªå¯¹è±¡è¢«è®¾è®¡æˆä¸€èµ·å·¥ä½œæ—¶ï¼Œå®ƒèƒ½å¤Ÿä¿è¯å®¢æˆ·ç«¯å§‹ç»ˆåªä½¿ç”¨åŒä¸€ä¸ªäº§å“æ—ä¸­çš„å¯¹è±¡ã€‚è¿™å¯¹ä¸€äº›éœ€è¦æ ¹æ®å½“å‰ç¯å¢ƒæ¥å†³å®šå…¶è¡Œä¸ºçš„è½¯ä»¶ç³»ç»Ÿæ¥è¯´ï¼Œæ˜¯ä¸€ç§éå¸¸å®ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚

**ç¼ºç‚¹ï¼š**

- è§„å®šäº†æ‰€æœ‰å¯èƒ½è¢«åˆ›å»ºçš„äº§å“é›†åˆï¼Œäº§å“æ—ä¸­æ‰©å±•æ–°çš„äº§å“å›°éš¾ï¼Œéœ€è¦ä¿®æ”¹æŠ½è±¡å·¥å‚çš„æ¥å£ã€‚

#### åŸå‹æ¨¡å¼

> åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰: ä½¿ç”¨åŸå‹å®ä¾‹æŒ‡å®šå¾…åˆ›å»ºå¯¹è±¡çš„ç±»å‹ï¼Œå¹¶ä¸”é€šè¿‡å¤åˆ¶è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚

**ä¸¾ä¾‹ï¼š**åŸå‹æ¨¡å¼å°±åƒå¤å°æŠ€æœ¯ï¼Œæ ¹æ®åŸå¯¹è±¡å¤å°å‡ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶æ ¹æ®éœ€æ±‚å¯¹æ–°å¯¹è±¡è¿›è¡Œå¾®è°ƒã€‚

**ä¼˜ç‚¹ï¼š**

- å¯ä»¥åˆ©ç”¨åŸå‹æ¨¡å¼ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå°¤å…¶æ˜¯å¯¹ä¸€äº›åˆ›å»ºè¿‡ç¨‹ç¹çï¼ŒåŒ…å«å¯¹è±¡å±‚çº§æ¯”è¾ƒå¤šçš„å¯¹è±¡æ¥è¯´ï¼Œä½¿ç”¨åŸå‹æ¨¡å¼å¯ä»¥èŠ‚çº¦ç³»ç»Ÿèµ„æºï¼Œæé«˜å¯¹è±¡ç”Ÿæˆçš„æ•ˆç‡ã€‚
- å¯ä»¥å¾ˆæ–¹ä¾¿å¾—é€šè¿‡æ”¹å˜å€¼æ¥ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼šæœ‰äº›å¯¹è±¡ä¹‹é—´çš„å·®åˆ«å¯èƒ½åªåœ¨äºæŸäº›å€¼çš„ä¸åŒï¼›ç”¨åŸå‹æ¨¡å¼å¯ä»¥å¿«é€Ÿå¤åˆ¶å‡ºæ–°çš„å¯¹è±¡å¹¶æ‰‹åŠ¨ä¿®æ”¹å€¼å³å¯ã€‚

**ç¼ºç‚¹ï¼š**

- å¯¹è±¡åŒ…å«çš„æ‰€æœ‰å¯¹è±¡éƒ½éœ€è¦é…å¤‡ä¸€ä¸ªå…‹éš†çš„æ–¹æ³•ï¼Œè¿™å°±ä½¿å¾—åœ¨å¯¹è±¡å±‚çº§æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œä»£ç é‡ä¼šå¾ˆå¤§ï¼Œä¹Ÿæ›´åŠ å¤æ‚ã€‚

#### å•ä¾‹æ¨¡å¼

> å•ä¾‹æ¨¡å¼(Singleton Pattern)ï¼šå•ä¾‹æ¨¡å¼ç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å‰§è®¿é—®ç‚¹ã€‚

**ä¸¾ä¾‹ï¼š**å•ä¾‹æ¨¡å¼ä¸‹ï¼Œå¯¹åº”ç±»åªèƒ½ç”Ÿæˆä¸€ä¸ªå®ä¾‹ã€‚å°±åƒä¸€ä¸ªç‹å›½åªèƒ½æœ‰ä¸€ä¸ªå›½ç‹ï¼Œä¸€æ—¦ç‹å›½é‡Œçš„äº‹åŠ¡å¤šèµ·æ¥ï¼Œè¿™ä¸ªå”¯ä¸€çš„å›½ç‹ä¹Ÿå®¹æ˜“èŒè´£è¿‡é‡ã€‚

**ä¼˜ç‚¹ï¼š**

- æä¾›äº†å¯¹å”¯ä¸€å®ä¾‹çš„å—æ§è®¿é—®ã€‚å› ä¸ºå•ä¾‹ç±»å°è£…äº†å®ƒçš„å”¯ä¸€å®ä¾‹ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä¸¥æ ¼æ§åˆ¶å®¢æˆ·æ€æ ·ä»¥åŠä½•æ—¶è®¿é—®å®ƒã€‚
- å› ä¸ºè¯¥ç±»åœ¨ç³»ç»Ÿå†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥èŠ‚çº¦ç³»ç»Ÿèµ„æºã€‚

**ç¼ºç‚¹ï¼š**

- ç”±äºå•ä¾‹æ¨¡å¼ä¸­æ²¡æœ‰æŠ½è±¡å±‚ï¼Œå› æ­¤å•ä¾‹ç±»å¾ˆéš¾è¿›è¡Œæ‰©å±•ã€‚
- å¯¹äºæœ‰åƒåœ¾å›æ”¶ç³»ç»Ÿçš„è¯­è¨€ Javaï¼ŒC# æ¥è¯´ï¼Œå¦‚æœå¯¹è±¡é•¿æ—¶é—´ä¸è¢«åˆ©ç”¨ï¼Œåˆ™å¯èƒ½ä¼šè¢«å›æ”¶ã€‚é‚£ä¹ˆå¦‚æœè¿™ä¸ªå•ä¾‹æŒæœ‰ä¸€äº›æ•°æ®çš„è¯ï¼Œåœ¨å›æ”¶åé‡æ–°å®ä¾‹åŒ–æ—¶å°±ä¸å¤å­˜åœ¨äº†ã€‚

#### ç”Ÿæˆå™¨æ¨¡å¼

> ç”Ÿæˆå™¨æ¨¡å¼(Builder Pattern)ï¼šä¹Ÿå«åˆ›å»ºè€…æ¨¡å¼ï¼Œå®ƒå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚

**ä¸¾ä¾‹ï¼š**ç”Ÿæˆå™¨æ¨¡å¼å°†å¤æ‚çš„åˆ›å»ºé€»è¾‘è¿›è¡Œåˆ†å‰²ï¼Œä¾‹å¦‚ç”Ÿäº§æ±½è½¦ï¼Œåˆ†æ­¥éª¤åˆ›å»ºå®‰è£…ä¸åŒçš„é›¶ä»¶ã€‚å¦‚æœåˆ›å»ºé€»è¾‘ç®€å•åˆ™æ²¡æœ‰æ‹†åˆ†çš„å¿…è¦ã€‚

**ä¼˜ç‚¹ï¼š**

- å®¢æˆ·ç«¯ä¸å¿…çŸ¥é“äº§å“å†…éƒ¨ç»„æˆçš„ç»†èŠ‚ï¼Œå°†äº§å“æœ¬èº«ä¸äº§å“çš„åˆ›å»ºè¿‡ç¨‹è§£è€¦ï¼Œä½¿å¾—ç›¸åŒçš„åˆ›å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡ã€‚
- æ¯ä¸€ä¸ªå…·ä½“å»ºé€ è€…éƒ½ç›¸å¯¹ç‹¬ç«‹ï¼Œè€Œä¸å…¶ä»–çš„å…·ä½“å»ºé€ è€…æ— å…³ï¼Œå› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›¿æ¢å…·ä½“å»ºé€ è€…æˆ–å¢åŠ æ–°çš„å…·ä½“å»ºé€ è€…ï¼Œ ç”¨æˆ·ä½¿ç”¨ä¸åŒçš„å…·ä½“å»ºé€ è€…å³å¯å¾—åˆ°ä¸åŒçš„äº§å“å¯¹è±¡ ã€‚
- å¢åŠ æ–°çš„å…·ä½“å»ºé€ è€…æ— é¡»ä¿®æ”¹åŸæœ‰ç±»åº“çš„ä»£ç ï¼ŒæŒ‡æŒ¥è€…ç±»é’ˆå¯¹æŠ½è±¡å»ºé€ è€…ç±»ç¼–ç¨‹ï¼Œç³»ç»Ÿæ‰©å±•æ–¹ä¾¿ï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚
- å¯ä»¥æ›´åŠ ç²¾ç»†åœ°æ§åˆ¶äº§å“çš„åˆ›å»ºè¿‡ç¨‹ ã€‚å°†å¤æ‚äº§å“çš„åˆ›å»ºæ­¥éª¤åˆ†è§£åœ¨ä¸åŒçš„æ–¹æ³•ä¸­ï¼Œä½¿å¾—åˆ›å»ºè¿‡ç¨‹æ›´åŠ æ¸…æ™°ï¼Œä¹Ÿæ›´æ–¹ä¾¿ä½¿ç”¨ç¨‹åºæ¥æ§åˆ¶åˆ›å»ºè¿‡ç¨‹ã€‚

**ç¼ºç‚¹ï¼š**

- å»ºé€ è€…æ¨¡å¼æ‰€åˆ›å»ºçš„äº§å“ä¸€èˆ¬å…·æœ‰è¾ƒå¤šçš„å…±åŒç‚¹ï¼Œå…¶ç»„æˆéƒ¨åˆ†ç›¸ä¼¼ï¼Œå¦‚æœäº§å“ä¹‹é—´çš„å·®å¼‚æ€§å¾ˆå¤§ï¼Œåˆ™ä¸é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´å—åˆ°ä¸€å®šçš„é™åˆ¶ã€‚
- å¦‚æœäº§å“çš„å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´éœ€è¦å®šä¹‰å¾ˆå¤šå…·ä½“å»ºé€ è€…ç±»æ¥å®ç°è¿™ç§å˜åŒ–ï¼Œå¯¼è‡´ç³»ç»Ÿå˜å¾—å¾ˆåºå¤§ã€‚

### ç»“æ„å‹

#### è£…é¥°è€…æ¨¡å¼

> è£…é¥°æ¨¡å¼(Decorator Pattern) ï¼šä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„å‰æä¸‹ï¼ŒåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚

**ä¸¾ä¾‹ï¼š**è£…é¥°æ¨¡å¼è´´åˆå¼€é—­åŸåˆ™ï¼Œåœ¨ä¸æ”¹å˜åŸæœ‰ç±»çš„æƒ…å†µä¸‹ï¼Œå¯¹çˆ¶ç±»è¿›è¡Œæ”¹é€ æˆ–æ–°å¢åŠŸèƒ½ã€‚ä¸¾ä¾‹ï¼Œå®šä¸€ä¸ªæŠ½è±¡ç±»`Tea`ï¼Œåªèƒ½æä¾›ç™½å¼€æ°´ï¼Œä½†æ˜¯é€šè¿‡è£…é¥°ç±»`BlackTea`è£…é¥°ä¹‹åå°±æ‹“å±•äº†æ–°åŠŸèƒ½ï¼Œé€šè¿‡`BlackTea`ç±»å¯ä»¥ç”¨ç™½å¼€æ°´æ³¡çº¢èŒ¶ï¼Œè¿˜å¯ä»¥é€‰æ‹©åŠ æŸ æª¬ã€‚

**ä¼˜ç‚¹ï¼š**

- æ¯”ç»§æ‰¿æ›´åŠ çµæ´»ï¼šä¸åŒäºåœ¨ç¼–è¯‘æœŸèµ·ä½œç”¨çš„ç»§æ‰¿ï¼›è£…é¥°è€…æ¨¡å¼å¯ä»¥åœ¨è¿è¡Œæ—¶æ‰©å±•ä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ã€‚å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶åœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„è£…é¥°å™¨ï¼Œä»è€Œå®ç°ä¸åŒçš„è¡Œä¸ºã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä¸åŒçš„ç»„åˆï¼Œå¯ä»¥å®ç°ä¸åŒæ•ˆæœï¼›
- ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ï¼šè£…é¥°è€…å’Œè¢«è£…é¥°è€…å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ–°çš„è£…é¥°ç±»ï¼Œåœ¨ä½¿ç”¨æ—¶å†å¯¹å…¶è¿›è¡Œç»„åˆï¼ŒåŸæœ‰ä»£ç æ— éœ€æ”¹å˜ã€‚

**ç¼ºç‚¹ï¼š**

- è£…é¥°è€…æ¨¡å¼éœ€è¦åˆ›å»ºä¸€äº›å…·ä½“è£…é¥°ç±»ï¼Œä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚

#### å¤–è§‚æ¨¡å¼

> å¤–è§‚æ¨¡å¼(Facade Pattern)ï¼šå¤–è§‚æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚å¤–è§‚æ¨¡å¼åˆç§°ä¸ºé—¨é¢æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼æ¨¡å¼ã€‚

**ä¸¾ä¾‹ï¼š**å¤–è§‚æ¨¡å¼æä¾›äº†ç®€å•æ˜ç¡®çš„æ¥å£ï¼Œä½†æ˜¯åœ¨å†…éƒ¨ä¼—å¤šå­ç³»ç»ŸåŠŸèƒ½è¿›è¡Œæ•´åˆã€‚å°±åƒå›¾ç‰‡ç¼“å­˜ï¼Œå†…éƒ¨åŒ…å«äº†æ¶‰åŠåˆ°å…¶ä»–å­ç³»ç»Ÿçš„å¦‚ç¼“å­˜ã€ä¸‹è½½ç­‰å¤„ç†ï¼Œå¤–è§‚æ¨¡å¼å°†è¿™äº›è´Ÿè´£çš„é€»è¾‘éƒ½éšè—äº†ã€‚

**ä¼˜ç‚¹ï¼š**

- å®ç°äº†å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿé—´çš„è§£è€¦ï¼šå®¢æˆ·ç«¯æ— éœ€çŸ¥é“å­ç³»ç»Ÿçš„æ¥å£ï¼Œç®€åŒ–äº†å®¢æˆ·ç«¯è°ƒç”¨å­ç³»ç»Ÿçš„è°ƒç”¨è¿‡ç¨‹ï¼Œä½¿å¾—å­ç³»ç»Ÿä½¿ç”¨èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚åŒæ—¶ä¾¿äºå­ç³»ç»Ÿçš„æ‰©å±•å’Œç»´æŠ¤ã€‚
- ç¬¦åˆè¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼šå­ç³»ç»Ÿåªéœ€è¦å°†éœ€è¦å¤–éƒ¨è°ƒç”¨çš„æ¥å£æš´éœ²ç»™å¤–è§‚ç±»å³å¯ï¼Œè€Œä¸”ä»–çš„æ¥å£åˆ™å¯ä»¥éšè—èµ·æ¥ã€‚

**ç¼ºç‚¹ï¼š**

- è¿èƒŒäº†å¼€é—­åŸåˆ™ï¼šåœ¨ä¸å¼•å…¥æŠ½è±¡å¤–è§‚ç±»çš„æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±»æˆ–å®¢æˆ·ç«¯çš„ä»£ç ã€‚

#### äº«å…ƒæ¨¡å¼

> äº«å…ƒæ¨¡å¼(Flyweight Pattern)ï¼šè¿ç”¨å…±äº«æŠ€æœ¯å¤ç”¨å¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡,é™ä½ç¨‹åºå†…å­˜çš„å ç”¨,æé«˜ç¨‹åºçš„æ€§èƒ½ã€‚

**ä¼˜ç‚¹ï¼š**

- ä½¿ç”¨äº«å…ƒæ¨¡å¼å¯ä»¥å‡å°‘å†…å­˜ä¸­å¯¹è±¡çš„æ•°é‡ï¼Œä½¿å¾—ç›¸åŒå¯¹è±¡æˆ–ç›¸ä¼¼å¯¹è±¡åœ¨å†…å­˜ä¸­åªä¿å­˜ä¸€ä»½ï¼Œé™ä½ç³»ç»Ÿçš„ä½¿ç”¨å†…å­˜ï¼Œä¹Ÿå¯ä»¥ææ€§èƒ½ã€‚
- äº«å…ƒæ¨¡å¼çš„å¤–éƒ¨çŠ¶æ€ç›¸å¯¹ç‹¬ç«‹ï¼Œè€Œä¸”ä¸ä¼šå½±å“å…¶å†…éƒ¨çŠ¶æ€ï¼Œä»è€Œä½¿å¾—äº«å…ƒå¯¹è±¡å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¢«å…±äº«ã€‚

**ç¼ºç‚¹ï¼š**

- ä½¿ç”¨äº«å…ƒæ¨¡å¼éœ€è¦åˆ†ç¦»å‡ºå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ï¼Œè¿™ä½¿å¾—ç¨‹åºçš„é€»è¾‘å¤æ‚åŒ–ã€‚
- å¯¹è±¡åœ¨ç¼“å†²æ± ä¸­çš„å¤ç”¨éœ€è¦è€ƒè™‘çº¿ç¨‹é—®é¢˜ã€‚

#### é€‚é…å™¨æ¨¡å¼

> é€‚é…å™¨æ¨¡å¼(Adapter Pattern) ï¼šå°†ä¸€ä¸ªæ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚é€‚é…å™¨æ¨¡å¼çš„åˆ«åæ˜¯åŒ…è£…å™¨æ¨¡å¼ï¼ˆWrapperï¼‰ï¼Œæ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ã€‚

**ä¸¾ä¾‹ï¼š**

é€‚é…å™¨æ¨¡å¼é¡¾åæ€ä¹‰ï¼Œæ¯”å¦‚å†…åœ°ç”¨åƒæ¸¯ç‰ˆæ’å¤´éœ€è¦ä¸€ä¸ªè½¬æ¥å¤´ã€‚å†æ¯”å¦‚iPhoneçš„æ‰‹æœºå¡æ˜¯ç‰¹åˆ«å°çš„ Nano å¡ï¼ŒæŠŠ Nano å¡æ‹¿åˆ°å…¶ä»–æ‰‹æœºä¸Šä¸èƒ½è´´åˆå¡æ§½å°ºå¯¸ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ªç¬¦åˆå¡æ§½å°ºå¯¸çš„å¡å¥—ã€‚

**ä¼˜ç‚¹ï¼š**

- ç¬¦åˆå¼€é—­åŸåˆ™ï¼šä½¿ç”¨é€‚é…å™¨è€Œä¸éœ€è¦æ”¹å˜ç°æœ‰ç±»ï¼Œæé«˜ç±»çš„å¤ç”¨æ€§ã€‚
- ç›®æ ‡ç±»å’Œé€‚é…å™¨ç±»è§£è€¦ï¼Œæé«˜ç¨‹åºæ‰©å±•æ€§ã€‚

**ç¼ºç‚¹ï¼š**

- å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§

#### ä»£ç†æ¨¡å¼

> ä»£ç†æ¨¡å¼(Proxy Pattern) ï¼šä¸ºæŸä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œå¹¶ç”±è¿™ä¸ªä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„è®¿é—®ã€‚

**ä¸¾ä¾‹ï¼š**ä»£ç†æ¨¡å¼åƒä¸€ä¸ªæˆ¿å±‹ä¸­ä»‹ï¼Œä¹°å®¶åªèƒ½é€šè¿‡ä¸­ä»‹æ¥ä¹°æˆ¿ï¼Œä»£ç†å…·å¤‡è¢«ä»£ç†ç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå°±åƒæˆ¿ä¸œæœ‰å–æˆ¿åŠŸèƒ½ï¼Œä¸­ä»‹ä¹Ÿå…·æœ‰å–æˆ¿åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œä»£ç†å®ä¾‹è¿˜å¯ä»¥å¸®åŠ©è¢«ä»£ç†å®ä¾‹è¿›è¡Œä¸€äº›é¢å¤–å¤„ç†ï¼Œæ¯”å¦‚ä¸­ä»‹å¯ä»¥å¸®åŠ©æˆ¿ä¸œç­›é€‰ä¼˜è´¨ä¹°å®¶çš„åŠŸèƒ½ï¼Œå¸®åŠ©æˆ¿ä¸œpassæ‰ä¸€äº›ä¸ç¬¦åˆæ¡ä»¶çš„ä¹°å®¶ã€‚æ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿæ˜¯è¯¥æ¨¡å¼ã€‚

**ä¼˜ç‚¹ï¼š**

- é™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ï¼šä»£ç†æ¨¡å¼èƒ½å¤Ÿåè°ƒè°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚
- ä¸åŒç±»å‹çš„ä»£ç†å¯ä»¥å¯¹å®¢æˆ·ç«¯å¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®è¿›è¡Œä¸åŒçš„æ§åˆ¶ã€‚

**ç¼ºç‚¹ï¼š**

- ç”±äºåœ¨å®¢æˆ·ç«¯å’Œè¢«ä»£ç†å¯¹è±¡ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤å¯èƒ½ä¼šè®©å®¢æˆ·ç«¯è¯·æ±‚çš„é€Ÿåº¦å˜æ…¢ã€‚

### è¡Œä¸ºå‹

#### è¿­ä»£å™¨æ¨¡å¼

> è¿­ä»£å™¨æ¨¡å¼(Iterator Pattern)ï¼šæä¾›ä¸€ç§æ–¹æ³•æ¥è®¿é—®èšåˆå¯¹è±¡ï¼Œè€Œä¸ç”¨æš´éœ²è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºï¼Œå…¶åˆ«åä¸ºæ¸¸æ ‡(Cursor)ã€‚è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ã€‚

**ä¸¾ä¾‹ï¼š**è¿­ä»£å™¨å¸®åŠ©è¯·æ±‚æ–¹è·å–æ•°æ®ï¼Œé¿å…ç›´æ¥æ“ä½œæ•°æ®èšåˆç±»ï¼Œä½¿æ•°æ®èšåˆç±»ä¸“æ³¨å­˜å‚¨æ•°æ®ã€‚å…·ä½“åº”ç”¨æœ‰åˆ†é¡µç­‰åŠŸèƒ½ï¼Œåˆ†é¡µåŠŸèƒ½çš„è¿­ä»£å™¨å°†ä¸“é—¨è´Ÿè´£æ“ä½œåˆ†é¡µæ•°æ®ï¼Œå°†æ“ä½œé€»è¾‘å’Œæ•°æ®æºåˆ†ç¦»ã€‚

**ä¼˜ç‚¹ï¼š**

- å®ƒæ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ï¼Œåœ¨åŒä¸€ä¸ªèšåˆå¯¹è±¡ä¸Šå¯ä»¥å®šä¹‰å¤šç§éå†æ–¹å¼ã€‚åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­åªéœ€è¦ç”¨ä¸€ä¸ªä¸åŒçš„è¿­ä»£å™¨æ¥æ›¿æ¢åŸæœ‰è¿­ä»£å™¨å³å¯æ”¹å˜éå†ç®—æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰è¿­ä»£å™¨çš„å­ç±»ä»¥æ”¯æŒæ–°çš„éå†æ–¹å¼ã€‚
- è¿­ä»£å™¨ç®€åŒ–äº†èšåˆç±»ã€‚ç”±äºå¼•å…¥äº†è¿­ä»£å™¨ï¼Œåœ¨åŸæœ‰çš„èšåˆå¯¹è±¡ä¸­ä¸éœ€è¦å†è‡ªè¡Œæä¾›æ•°æ®éå†ç­‰æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–èšåˆç±»çš„è®¾è®¡ã€‚
- åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ï¼Œç”±äºå¼•å…¥äº†æŠ½è±¡å±‚ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œæ»¡è¶³â€œå¼€é—­åŸåˆ™â€çš„è¦æ±‚ã€‚

**ç¼ºç‚¹ï¼š**

- ç”±äºè¿­ä»£å™¨æ¨¡å¼å°†å­˜å‚¨æ•°æ®å’Œéå†æ•°æ®çš„èŒè´£åˆ†ç¦»ï¼Œå¢åŠ æ–°çš„èšåˆç±»éœ€è¦å¯¹åº”å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»ï¼Œç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚
- æŠ½è±¡è¿­ä»£å™¨çš„è®¾è®¡éš¾åº¦è¾ƒå¤§ï¼Œéœ€è¦å……åˆ†è€ƒè™‘åˆ°ç³»ç»Ÿå°†æ¥çš„æ‰©å±•ï¼Œä¾‹å¦‚JDKå†…ç½®è¿­ä»£å™¨Iteratorå°±æ— æ³•å®ç°é€†å‘éå†ï¼Œå¦‚æœéœ€è¦å®ç°é€†å‘éå†ï¼Œåªèƒ½é€šè¿‡å…¶å­ç±»ListIteratorç­‰æ¥å®ç°ï¼Œè€ŒListIteratorè¿­ä»£å™¨æ— æ³•ç”¨äºæ“ä½œSetç±»å‹çš„èšåˆå¯¹è±¡ã€‚åœ¨è‡ªå®šä¹‰è¿­ä»£å™¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªè€ƒè™‘å…¨é¢çš„æŠ½è±¡è¿­ä»£å™¨å¹¶ä¸æ˜¯ä»¶å¾ˆå®¹æ˜“çš„äº‹æƒ…ã€‚

#### ä¸­ä»‹è€…æ¨¡å¼

> ä¸­ä»‹è€…æ¨¡å¼(Mediator Pattern)ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡ï¼ˆä¸­ä»‹è€…ï¼‰æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ï¼Œä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚ä¸­ä»‹è€…æ¨¡å¼åˆç§°ä¸ºè°ƒåœè€…æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ã€‚

**è§£é‡Šï¼š**ä¸­ä»‹è€…æ¨¡å¼å°†ä¸€ä¸ªç½‘çŠ¶çš„ç³»ç»Ÿç»“æ„å˜æˆä¸€ä¸ªä»¥ä¸­ä»‹è€…å¯¹è±¡ä¸ºä¸­å¿ƒçš„æ˜Ÿå½¢ç»“æ„ï¼Œåœ¨è¿™ä¸ªæ˜Ÿå½¢ç»“æ„ä¸­ï¼Œä½¿ç”¨ä¸­ä»‹è€…å¯¹è±¡ä¸å…¶ä»–å¯¹è±¡çš„ä¸€å¯¹å¤šå…³ç³»æ¥å–ä»£åŸæœ‰å¯¹è±¡ä¹‹é—´çš„å¤šå¯¹å¤šå…³ç³»ã€‚æ‰€æœ‰æˆå‘˜é€šè¿‡ä¸­ä»‹è€…äº¤äº’ï¼Œæ–¹ä¾¿æ‹“å±•æ–°çš„æˆå‘˜ã€‚

**ä¼˜ç‚¹ï¼š**

- ä¸­ä»‹è€…æ¨¡å¼ç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œå®ƒç”¨ä¸­ä»‹è€…å’ŒåŒäº‹çš„ä¸€å¯¹å¤šäº¤äº’ä»£æ›¿äº†åŸæ¥åŒäº‹ä¹‹é—´çš„å¤šå¯¹å¤šäº¤äº’ï¼Œä¸€å¯¹å¤šå…³ç³»æ›´å®¹æ˜“ç†è§£ã€ç»´æŠ¤å’Œæ‰©å±•ï¼Œå°†åŸæœ¬éš¾ä»¥ç†è§£çš„ç½‘çŠ¶ç»“æ„è½¬æ¢æˆç›¸å¯¹ç®€å•çš„æ˜Ÿå‹ç»“æ„ã€‚
- ä¸­ä»‹è€…æ¨¡å¼å¯å°†å„åŒäº‹å¯¹è±¡è§£è€¦ã€‚ä¸­ä»‹è€…æœ‰åˆ©äºå„åŒäº‹ä¹‹é—´çš„æ¾è€¦åˆï¼Œæˆ‘ä»¬å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜å’Œå¤ç”¨æ¯ä¸€ä¸ªåŒäº‹å’Œä¸­ä»‹è€…ï¼Œå¢åŠ æ–°çš„ä¸­ä»‹è€…å’Œæ–°çš„åŒäº‹ç±»éƒ½æ¯”è¾ƒæ–¹ä¾¿ï¼Œæ›´å¥½åœ°ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚
- å¯ä»¥å‡å°‘å­ç±»ç”Ÿæˆï¼Œä¸­ä»‹è€…å°†åŸæœ¬åˆ†å¸ƒäºå¤šä¸ªå¯¹è±¡é—´çš„è¡Œä¸ºé›†ä¸­åœ¨ä¸€èµ·ï¼Œæ”¹å˜è¿™äº›è¡Œä¸ºåªéœ€ç”Ÿæˆæ–°çš„ä¸­ä»‹è€…å­ç±»å³å¯ï¼Œè¿™ä½¿å„ä¸ªåŒäº‹ç±»å¯è¢«é‡ç”¨ï¼Œæ— é¡»å¯¹åŒäº‹ç±»è¿›è¡Œæ‰©å±•ã€‚

**ç¼ºç‚¹ï¼š**

- åœ¨å…·ä½“ä¸­ä»‹è€…ç±»ä¸­åŒ…å«äº†å¤§é‡åŒäº‹ä¹‹é—´çš„äº¤äº’ç»†èŠ‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…·ä½“ä¸­ä»‹è€…ç±»éå¸¸å¤æ‚ï¼Œä½¿å¾—ç³»ç»Ÿéš¾ä»¥ç»´æŠ¤ã€‚

#### è§‚å¯Ÿè€…æ¨¡å¼

> è§‚å¯Ÿè€…æ¨¡å¼(Observer Pattern)ï¼šå®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€ç§ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡çš†å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼çš„åˆ«ååŒ…æ‹¬å‘å¸ƒ-è®¢é˜…ï¼ˆPublish/Subscribeï¼‰æ¨¡å¼ã€æ¨¡å‹-è§†å›¾ï¼ˆModel/Viewï¼‰æ¨¡å¼ã€æº-ç›‘å¬å™¨ï¼ˆSource/Listenerï¼‰æ¨¡å¼æˆ–ä»å±è€…ï¼ˆDependentsï¼‰æ¨¡å¼ã€‚è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ã€‚

**è§£é‡Šï¼š**è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œå®ƒç”¨äºå»ºç«‹ä¸€ç§å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶å°†è‡ªåŠ¨é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œå…¶ä»–å¯¹è±¡å°†ç›¸åº”ä½œå‡ºååº”ã€‚

**ä¼˜ç‚¹ï¼š**

- è§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥å®ç°è¡¨ç¤ºå±‚å’Œæ•°æ®é€»è¾‘å±‚çš„åˆ†ç¦»ï¼Œå®šä¹‰äº†ç¨³å®šçš„æ¶ˆæ¯æ›´æ–°ä¼ é€’æœºåˆ¶ï¼Œå¹¶æŠ½è±¡äº†æ›´æ–°æ¥å£ï¼Œä½¿å¾—å¯ä»¥æœ‰å„ç§å„æ ·ä¸åŒçš„è¡¨ç¤ºå±‚å……å½“å…·ä½“è§‚å¯Ÿè€…è§’è‰²ã€‚
- è§‚å¯Ÿè€…æ¨¡å¼åœ¨è§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…ä¹‹é—´å»ºç«‹ä¸€ä¸ªæŠ½è±¡çš„è€¦åˆã€‚è§‚å¯Ÿç›®æ ‡åªéœ€è¦ç»´æŒä¸€ä¸ªæŠ½è±¡è§‚å¯Ÿè€…çš„é›†åˆï¼Œæ— é¡»äº†è§£å…¶å…·ä½“è§‚å¯Ÿè€…ã€‚ç”±äºè§‚å¯Ÿç›®æ ‡å’Œè§‚å¯Ÿè€…æ²¡æœ‰ç´§å¯†åœ°è€¦åˆåœ¨ä¸€èµ·ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥å±äºä¸åŒçš„æŠ½è±¡åŒ–å±‚æ¬¡ã€‚
- è§‚å¯Ÿè€…æ¨¡å¼æ”¯æŒå¹¿æ’­é€šä¿¡ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šå‘æ‰€æœ‰å·²æ³¨å†Œçš„è§‚å¯Ÿè€…å¯¹è±¡å‘é€é€šçŸ¥ï¼Œç®€åŒ–äº†ä¸€å¯¹å¤šç³»ç»Ÿè®¾è®¡çš„éš¾åº¦ã€‚
- è§‚å¯Ÿè€…æ¨¡å¼æ»¡è¶³â€œå¼€é—­åŸåˆ™â€çš„è¦æ±‚ï¼Œå¢åŠ æ–°çš„å…·ä½“è§‚å¯Ÿè€…æ— é¡»ä¿®æ”¹åŸæœ‰ç³»ç»Ÿä»£ç ï¼Œåœ¨å…·ä½“è§‚å¯Ÿè€…ä¸è§‚å¯Ÿç›®æ ‡ä¹‹é—´ä¸å­˜åœ¨å…³è”å…³ç³»çš„æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„è§‚å¯Ÿç›®æ ‡ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚

**ç¼ºç‚¹ï¼š**

- å¦‚æœä¸€ä¸ªè§‚å¯Ÿç›®æ ‡å¯¹è±¡æœ‰å¾ˆå¤šç›´æ¥å’Œé—´æ¥è§‚å¯Ÿè€…ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚
- å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚
- è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚

#### è®¿é—®è€…æ¨¡å¼

> è®¿é—®è€…æ¨¡å¼(Visitor Pattern):æä¾›ä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œè¡¨ç¤ºï¼Œå®ƒä½¿æˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ã€‚

**è§£é‡Šï¼š**è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§è¾ƒä¸ºå¤æ‚çš„è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒåŒ…å«è®¿é—®è€…å’Œè¢«è®¿é—®å…ƒç´ ä¸¤ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼Œè¿™äº›è¢«è®¿é—®çš„å…ƒç´ é€šå¸¸å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œä¸”ä¸åŒçš„è®¿é—®è€…å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œä¸åŒçš„è®¿é—®æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯ä»¥åœ¨ä¸ä¿®æ”¹ç°æœ‰ç³»ç»Ÿçš„æƒ…å†µä¸‹æ‰©å±•ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œä¸ºè¿™äº›ä¸åŒç±»å‹çš„å…ƒç´ å¢åŠ æ–°çš„æ“ä½œã€‚

åœ¨ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ—¶ï¼Œè¢«è®¿é—®å…ƒç´ é€šå¸¸ä¸æ˜¯å•ç‹¬å­˜åœ¨çš„ï¼Œå®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œè¿™ä¸ªé›†åˆè¢«ç§°ä¸ºã€Œå¯¹è±¡ç»“æ„ã€ï¼Œè®¿é—®è€…é€šè¿‡éå†å¯¹è±¡ç»“æ„å®ç°å¯¹å…¶ä¸­å­˜å‚¨çš„å…ƒç´ çš„é€ä¸ªæ“ä½œã€‚

**ä¼˜ç‚¹ï¼š**

- å¢åŠ æ–°çš„è®¿é—®æ“ä½œå¾ˆæ–¹ä¾¿ã€‚ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ï¼Œå¢åŠ æ–°çš„è®¿é—®æ“ä½œå°±æ„å‘³ç€å¢åŠ ä¸€ä¸ªæ–°çš„å…·ä½“è®¿é—®è€…ç±»ï¼Œå®ç°ç®€å•ï¼Œæ— é¡»ä¿®æ”¹æºä»£ç ï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚
- å°†æœ‰å…³å…ƒç´ å¯¹è±¡çš„è®¿é—®è¡Œä¸ºé›†ä¸­åˆ°ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯åˆ†æ•£åœ¨ä¸€ä¸ªä¸ªçš„å…ƒç´ ç±»ä¸­ã€‚ç±»çš„èŒè´£æ›´åŠ æ¸…æ™°ï¼Œæœ‰åˆ©äºå¯¹è±¡ç»“æ„ä¸­å…ƒç´ å¯¹è±¡çš„å¤ç”¨ï¼Œç›¸åŒçš„å¯¹è±¡ç»“æ„å¯ä»¥ä¾›å¤šä¸ªä¸åŒçš„è®¿é—®è€…è®¿é—®ã€‚
- è®©ç”¨æˆ·èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ç°æœ‰å…ƒç´ ç±»å±‚æ¬¡ç»“æ„çš„æƒ…å†µä¸‹ï¼Œå®šä¹‰ä½œç”¨äºè¯¥å±‚æ¬¡ç»“æ„çš„æ“ä½œã€‚

**ç¼ºç‚¹ï¼š**

- å¢åŠ æ–°çš„å…ƒç´ ç±»å¾ˆå›°éš¾ã€‚åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œæ¯å¢åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ç±»éƒ½æ„å‘³ç€è¦åœ¨æŠ½è±¡è®¿é—®è€…è§’è‰²ä¸­å¢åŠ ä¸€ä¸ªæ–°çš„æŠ½è±¡æ“ä½œï¼Œå¹¶åœ¨æ¯ä¸€ä¸ªå…·ä½“è®¿é—®è€…ç±»ä¸­å¢åŠ ç›¸åº”çš„å…·ä½“æ“ä½œï¼Œè¿™è¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€çš„è¦æ±‚ã€‚
- ç ´åå°è£…ã€‚è®¿é—®è€…æ¨¡å¼è¦æ±‚è®¿é—®è€…å¯¹è±¡è®¿é—®å¹¶è°ƒç”¨æ¯ä¸€ä¸ªå…ƒç´ å¯¹è±¡çš„æ“ä½œï¼Œè¿™æ„å‘³ç€å…ƒç´ å¯¹è±¡æœ‰æ—¶å€™å¿…é¡»æš´éœ²ä¸€äº›è‡ªå·±çš„å†…éƒ¨æ“ä½œå’Œå†…éƒ¨çŠ¶æ€ï¼Œå¦åˆ™æ— æ³•ä¾›è®¿é—®è€…è®¿é—®ã€‚

## äºŒã€è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™

### 2.1 å¼€é—­åŸåˆ™

> ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å³è½¯ä»¶å®ä½“åº”å°½é‡åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œæ‰©å±•ã€‚

ä»»ä½•è½¯ä»¶éƒ½éœ€è¦é¢ä¸´ä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼Œå³å®ƒä»¬çš„éœ€æ±‚ä¼šéšæ—¶é—´çš„æ¨ç§»è€Œå‘ç”Ÿå˜åŒ–ã€‚å½“è½¯ä»¶ç³»ç»Ÿéœ€è¦é¢å¯¹æ–°çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡ä¿è¯ç³»ç»Ÿçš„è®¾è®¡æ¡†æ¶æ˜¯ç¨³å®šçš„ã€‚å¦‚æœä¸€ä¸ªè½¯ä»¶è®¾è®¡ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œé‚£ä¹ˆå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å¯¹ç³»ç»Ÿè¿›è¡Œæ‰©å±•ï¼Œè€Œä¸”åœ¨æ‰©å±•æ—¶æ— é¡»ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œä½¿å¾—è½¯ä»¶ç³»ç»Ÿåœ¨æ‹¥æœ‰é€‚åº”æ€§å’Œçµæ´»æ€§çš„åŒæ—¶å…·å¤‡è¾ƒå¥½çš„ç¨³å®šæ€§å’Œå»¶ç»­æ€§ã€‚éšç€è½¯ä»¶è§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œè½¯ä»¶å¯¿å‘½è¶Šæ¥è¶Šé•¿ï¼Œè½¯ä»¶ç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ï¼Œè®¾è®¡æ»¡è¶³å¼€é—­åŸåˆ™çš„è½¯ä»¶ç³»ç»Ÿä¹Ÿå˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚

ä¸ºäº†æ»¡è¶³å¼€é—­åŸåˆ™ï¼Œéœ€è¦å¯¹ç³»ç»Ÿè¿›è¡ŒæŠ½è±¡åŒ–è®¾è®¡ï¼ŒæŠ½è±¡åŒ–æ˜¯å¼€é—­åŸåˆ™çš„å…³é”®ã€‚åœ¨Javaã€C#ç­‰ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¯ä»¥ä¸ºç³»ç»Ÿå®šä¹‰ä¸€ä¸ªç›¸å¯¹ç¨³å®šçš„æŠ½è±¡å±‚ï¼Œè€Œå°†ä¸åŒçš„å®ç°è¡Œä¸ºç§»è‡³å…·ä½“çš„å®ç°å±‚ä¸­å®Œæˆã€‚åœ¨å¾ˆå¤šé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æä¾›äº†æ¥å£ã€æŠ½è±¡ç±»ç­‰æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡å®ƒä»¬å®šä¹‰ç³»ç»Ÿçš„æŠ½è±¡å±‚ï¼Œå†é€šè¿‡å…·ä½“ç±»æ¥è¿›è¡Œæ‰©å±•ã€‚å¦‚æœéœ€è¦ä¿®æ”¹ç³»ç»Ÿçš„è¡Œä¸ºï¼Œæ— é¡»å¯¹æŠ½è±¡å±‚è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼Œåªéœ€è¦å¢åŠ æ–°çš„å…·ä½“ç±»æ¥å®ç°æ–°çš„ä¸šåŠ¡åŠŸèƒ½å³å¯ï¼Œå®ç°åœ¨ä¸ä¿®æ”¹å·²æœ‰ä»£ç çš„åŸºç¡€ä¸Šæ‰©å±•ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œè¾¾åˆ°å¼€é—­åŸåˆ™çš„è¦æ±‚ã€‚

**ä¼˜ç‚¹ï¼šå®è·µå¼€é—­åŸåˆ™çš„ä¼˜ç‚¹åœ¨äºå¯ä»¥åœ¨ä¸æ”¹åŠ¨åŸæœ‰ä»£ç çš„å‰æä¸‹ç»™ç¨‹åºæ‰©å±•åŠŸèƒ½ã€‚å¢åŠ äº†ç¨‹åºçš„å¯æ‰©å±•æ€§ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†ç¨‹åºçš„ç»´æŠ¤æˆæœ¬ã€‚**

### 2.2 é‡Œæ°æ›¿æ¢åŸåˆ™

> æ‰€æœ‰å¼•ç”¨åŸºç±»å¯¹è±¡çš„åœ°æ–¹èƒ½å¤Ÿé€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡

é‡Œæ°ä»£æ¢åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨è½¯ä»¶ä¸­å°†ä¸€ä¸ªåŸºç±»å¯¹è±¡æ›¿æ¢æˆå®ƒçš„å­ç±»å¯¹è±¡ï¼Œç¨‹åºå°†ä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯å’Œå¼‚å¸¸ï¼Œåè¿‡æ¥åˆ™ä¸æˆç«‹ï¼Œå¦‚æœä¸€ä¸ªè½¯ä»¶å®ä½“ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå­ç±»å¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆå®ƒä¸ä¸€å®šèƒ½å¤Ÿä½¿ç”¨åŸºç±»å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šæˆ‘å–œæ¬¢åŠ¨ç‰©ï¼Œé‚£æˆ‘ä¸€å®šå–œæ¬¢ç‹—ï¼Œå› ä¸ºç‹—æ˜¯åŠ¨ç‰©çš„å­ç±»ã€‚ä½†æ˜¯æˆ‘å–œæ¬¢ç‹—ï¼Œä¸èƒ½æ®æ­¤æ–­å®šæˆ‘å–œæ¬¢åŠ¨ç‰©ï¼Œå› ä¸ºæˆ‘å¹¶ä¸å–œæ¬¢è€é¼ ï¼Œè™½ç„¶å®ƒä¹Ÿæ˜¯åŠ¨ç‰©ã€‚

ä¾‹å¦‚æœ‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªç±»ä¸º`BaseClass`ï¼Œå¦ä¸€ä¸ªæ˜¯`SubClass`ç±»ï¼Œå¹¶ä¸”`SubClass`ç±»æ˜¯`BaseClass`ç±»çš„å­ç±»ï¼Œé‚£ä¹ˆä¸€ä¸ªæ–¹æ³•å¦‚æœå¯ä»¥æ¥å—ä¸€ä¸ª`BaseClass`ç±»å‹çš„åŸºç±»å¯¹è±¡`base`çš„è¯ï¼Œå¦‚ï¼š`method1(base)`ï¼Œé‚£ä¹ˆå®ƒå¿…ç„¶å¯ä»¥æ¥å—ä¸€ä¸ª`BaseClass`ç±»å‹çš„å­ç±»å¯¹è±¡`sub`ï¼Œ`method1(sub)`èƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚åè¿‡æ¥çš„ä»£æ¢ä¸æˆç«‹ï¼Œå¦‚ä¸€ä¸ªæ–¹æ³•`method2`æ¥å—`BaseClass`ç±»å‹çš„å­ç±»å¯¹è±¡`sub`ä¸ºå‚æ•°ï¼š`method2(sub)`ï¼Œé‚£ä¹ˆä¸€èˆ¬è€Œè¨€ä¸å¯ä»¥æœ‰`method2(base)`ï¼Œé™¤éæ˜¯é‡è½½æ–¹æ³•ã€‚

é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å®ç°å¼€é—­åŸåˆ™çš„é‡è¦æ–¹å¼ä¹‹ä¸€ï¼Œç”±äºä½¿ç”¨åŸºç±»å¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨å­ç±»å¯¹è±¡ï¼Œå› æ­¤åœ¨ç¨‹åºä¸­å°½é‡ä½¿ç”¨åŸºç±»ç±»å‹æ¥å¯¹å¯¹è±¡è¿›è¡Œå®šä¹‰ï¼Œè€Œåœ¨è¿è¡Œæ—¶å†ç¡®å®šå…¶å­ç±»ç±»å‹ï¼Œç”¨å­ç±»å¯¹è±¡æ¥æ›¿æ¢çˆ¶ç±»å¯¹è±¡ã€‚

**ä¼˜ç‚¹ï¼šå¯ä»¥æ£€éªŒç»§æ‰¿ä½¿ç”¨çš„æ­£ç¡®æ€§ï¼Œçº¦æŸç»§æ‰¿åœ¨ä½¿ç”¨ä¸Šçš„æ³›æ»¥ã€‚**

### 2.3 ä¾èµ–å€’ç½®åŸåˆ™

> æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºå…·ä½“ç±»ï¼Œå…·ä½“ç±»åº”å½“ä¾èµ–äºæŠ½è±¡ã€‚æ¢è¨€ä¹‹ï¼Œè¦é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚

ä¾èµ–å€’è½¬åŸåˆ™è¦æ±‚æˆ‘ä»¬åœ¨ç¨‹åºä»£ç ä¸­ä¼ é€’å‚æ•°æ—¶æˆ–åœ¨å…³è”å…³ç³»ä¸­ï¼Œå°½é‡å¼•ç”¨å±‚æ¬¡é«˜çš„æŠ½è±¡å±‚ç±»ï¼Œå³ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»è¿›è¡Œå˜é‡ç±»å‹å£°æ˜ã€å‚æ•°ç±»å‹å£°æ˜ã€æ–¹æ³•è¿”å›ç±»å‹å£°æ˜ï¼Œä»¥åŠæ•°æ®ç±»å‹çš„è½¬æ¢ç­‰ï¼Œè€Œä¸è¦ç”¨å…·ä½“ç±»æ¥åšè¿™äº›äº‹æƒ…ã€‚ä¸ºäº†ç¡®ä¿è¯¥åŸåˆ™çš„åº”ç”¨ï¼Œä¸€ä¸ªå…·ä½“ç±»åº”å½“åªå®ç°æ¥å£æˆ–æŠ½è±¡ç±»ä¸­å£°æ˜è¿‡çš„æ–¹æ³•ï¼Œè€Œä¸è¦ç»™å‡ºå¤šä½™çš„æ–¹æ³•ï¼Œå¦åˆ™å°†æ— æ³•è°ƒç”¨åˆ°åœ¨å­ç±»ä¸­å¢åŠ çš„æ–°æ–¹æ³•ã€‚

åœ¨å¼•å…¥æŠ½è±¡å±‚åï¼Œç³»ç»Ÿå°†å…·æœ‰å¾ˆå¥½çš„çµæ´»æ€§ï¼Œåœ¨ç¨‹åºä¸­å°½é‡ä½¿ç”¨æŠ½è±¡å±‚è¿›è¡Œç¼–ç¨‹ï¼Œè€Œå°†å…·ä½“ç±»å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¦‚æœç³»ç»Ÿè¡Œä¸ºå‘ç”Ÿå˜åŒ–ï¼Œåªéœ€è¦å¯¹æŠ½è±¡å±‚è¿›è¡Œæ‰©å±•ï¼Œå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè€Œæ— é¡»ä¿®æ”¹åŸæœ‰ç³»ç»Ÿçš„æºä»£ç ï¼Œåœ¨ä¸ä¿®æ”¹çš„æƒ…å†µä¸‹æ¥æ‰©å±•ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™çš„è¦æ±‚ã€‚

**ä¼˜ç‚¹ï¼šé€šè¿‡æŠ½è±¡æ¥æ­å»ºæ¡†æ¶ï¼Œå»ºç«‹ç±»å’Œç±»çš„å…³è”ï¼Œä»¥å‡å°‘ç±»é—´çš„è€¦åˆæ€§ã€‚è€Œä¸”ä»¥æŠ½è±¡æ­å»ºçš„ç³»ç»Ÿè¦æ¯”ä»¥å…·ä½“å®ç°æ­å»ºçš„ç³»ç»Ÿæ›´åŠ ç¨³å®šï¼Œæ‰©å±•æ€§æ›´é«˜ï¼ŒåŒæ—¶ä¹Ÿä¾¿äºç»´æŠ¤ã€‚**

### 2.4 å•ä¸€èŒè´£åŸåˆ™

> ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸä¸­çš„ç›¸åº”èŒè´£ï¼Œæˆ–è€…å¯ä»¥å®šä¹‰ä¸ºï¼šå°±ä¸€ä¸ªç±»è€Œè¨€ï¼Œåº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚

å•ä¸€èŒè´£åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼šä¸€ä¸ªç±»ä¸èƒ½å¤ªâ€œç´¯â€ï¼åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç±»ï¼ˆå¤§åˆ°æ¨¡å—ï¼Œå°åˆ°æ–¹æ³•ï¼‰æ‰¿æ‹…çš„èŒè´£è¶Šå¤šï¼Œå®ƒè¢«å¤ç”¨çš„å¯èƒ½æ€§å°±è¶Šå°ï¼Œè€Œä¸”ä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç›¸å½“äºå°†è¿™äº›èŒè´£è€¦åˆåœ¨ä¸€èµ·ï¼Œå½“å…¶ä¸­ä¸€ä¸ªèŒè´£å˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–èŒè´£çš„è¿ä½œï¼Œå› æ­¤è¦å°†è¿™äº›èŒè´£è¿›è¡Œåˆ†ç¦»ï¼Œå°†ä¸åŒçš„èŒè´£å°è£…åœ¨ä¸åŒçš„ç±»ä¸­ï¼Œå³å°†ä¸åŒçš„å˜åŒ–åŸå› å°è£…åœ¨ä¸åŒçš„ç±»ä¸­ï¼Œå¦‚æœå¤šä¸ªèŒè´£æ€»æ˜¯åŒæ—¶å‘ç”Ÿæ”¹å˜åˆ™å¯å°†å®ƒä»¬å°è£…åœ¨åŒä¸€ç±»ä¸­ã€‚

å•ä¸€èŒè´£åŸåˆ™æ˜¯å®ç°é«˜å†…èšã€ä½è€¦åˆçš„æŒ‡å¯¼æ–¹é’ˆï¼Œå®ƒæ˜¯æœ€ç®€å•ä½†åˆæœ€éš¾è¿ç”¨çš„åŸåˆ™ï¼Œéœ€è¦è®¾è®¡äººå‘˜å‘ç°ç±»çš„ä¸åŒèŒè´£å¹¶å°†å…¶åˆ†ç¦»ï¼Œè€Œå‘ç°ç±»çš„å¤šé‡èŒè´£éœ€è¦è®¾è®¡äººå‘˜å…·æœ‰è¾ƒå¼ºçš„åˆ†æè®¾è®¡èƒ½åŠ›å’Œç›¸å…³å®è·µç»éªŒã€‚

**ä¼˜ç‚¹ï¼šå¦‚æœç±»ä¸æ–¹æ³•çš„èŒè´£åˆ’åˆ†å¾—å¾ˆæ¸…æ™°ï¼Œä¸ä½†å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œæ›´å®é™…æ€§åœ°æ›´é™ä½äº†ç¨‹åºå‡ºé”™çš„é£é™©ï¼Œå› ä¸ºæ¸…æ™°çš„ä»£ç ä¼šè®© bug æ— å¤„è—èº«ï¼Œä¹Ÿæœ‰åˆ©äº bug çš„è¿½è¸ªï¼Œä¹Ÿå°±æ˜¯é™ä½äº†ç¨‹åºçš„ç»´æŠ¤æˆæœ¬ã€‚**

### 2.5 è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰

> ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨

å¦‚æœä¸€ä¸ªç³»ç»Ÿç¬¦åˆè¿ªç±³ç‰¹æ³•åˆ™ï¼Œé‚£ä¹ˆå½“å…¶ä¸­æŸä¸€ä¸ªæ¨¡å—å‘ç”Ÿä¿®æ”¹æ—¶ï¼Œå°±ä¼šå°½é‡å°‘åœ°å½±å“å…¶ä»–æ¨¡å—ï¼Œæ‰©å±•ä¼šç›¸å¯¹å®¹æ˜“ï¼Œè¿™æ˜¯å¯¹è½¯ä»¶å®ä½“ä¹‹é—´é€šä¿¡çš„é™åˆ¶ï¼Œè¿ªç±³ç‰¹æ³•åˆ™è¦æ±‚é™åˆ¶è½¯ä»¶å®ä½“ä¹‹é—´é€šä¿¡çš„å®½åº¦å’Œæ·±åº¦ã€‚è¿ªç±³ç‰¹æ³•åˆ™å¯é™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œä½¿ç±»ä¸ç±»ä¹‹é—´ä¿æŒæ¾æ•£çš„è€¦åˆå…³ç³»ã€‚

åœ¨å°†è¿ªç±³ç‰¹æ³•åˆ™è¿ç”¨åˆ°ç³»ç»Ÿè®¾è®¡ä¸­æ—¶ï¼Œè¦æ³¨æ„ä¸‹é¢çš„å‡ ç‚¹ï¼šåœ¨ç±»çš„åˆ’åˆ†ä¸Šï¼Œåº”å½“å°½é‡åˆ›å»ºæ¾è€¦åˆçš„ç±»ï¼Œç±»ä¹‹é—´çš„è€¦åˆåº¦è¶Šä½ï¼Œå°±è¶Šæœ‰åˆ©äºå¤ç”¨ï¼Œä¸€ä¸ªå¤„åœ¨æ¾è€¦åˆä¸­çš„ç±»ä¸€æ—¦è¢«ä¿®æ”¹ï¼Œä¸ä¼šå¯¹å…³è”çš„ç±»é€ æˆå¤ªå¤§æ³¢åŠã€‚åœ¨ç±»çš„ç»“æ„è®¾è®¡ä¸Šï¼Œæ¯ä¸€ä¸ªç±»éƒ½åº”å½“å°½é‡é™ä½å…¶æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ã€‚åœ¨ç±»çš„è®¾è®¡ä¸Šï¼Œåªè¦æœ‰å¯èƒ½ï¼Œä¸€ä¸ªç±»å‹åº”å½“è®¾è®¡æˆä¸å˜ç±»ã€‚åœ¨å¯¹å…¶ä»–ç±»çš„å¼•ç”¨ä¸Šï¼Œä¸€ä¸ªå¯¹è±¡å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨åº”å½“é™åˆ°æœ€ä½ã€‚

**ä¼˜ç‚¹ï¼šå®è·µè¿ªç±³ç‰¹æ³•åˆ™å¯ä»¥è‰¯å¥½åœ°é™ä½ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆï¼Œå‡å°‘ç±»ä¸ç±»ä¹‹é—´çš„å…³è”ç¨‹åº¦ï¼Œè®©ç±»ä¸ç±»ä¹‹é—´çš„åä½œæ›´åŠ ç›´æ¥ã€‚**

### 2.6 æ¥å£åˆ†ç¦»åŸåˆ™

> ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£ï¼Œè€Œä¸ä½¿ç”¨å•ä¸€çš„æ€»æ¥å£ï¼Œå³å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–é‚£äº›å®ƒä¸éœ€è¦çš„æ¥å£ã€‚

æ ¹æ®æ¥å£éš”ç¦»åŸåˆ™ï¼Œå½“ä¸€ä¸ªæ¥å£å¤ªå¤§æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒåˆ†å‰²æˆä¸€äº›æ›´ç»†å°çš„æ¥å£ï¼Œä½¿ç”¨è¯¥æ¥å£çš„å®¢æˆ·ç«¯ä»…éœ€çŸ¥é“ä¸ä¹‹ç›¸å…³çš„æ–¹æ³•å³å¯ã€‚æ¯ä¸€ä¸ªæ¥å£åº”è¯¥æ‰¿æ‹…ä¸€ç§ç›¸å¯¹ç‹¬ç«‹çš„è§’è‰²ï¼Œä¸å¹²ä¸è¯¥å¹²çš„äº‹ï¼Œè¯¥å¹²çš„äº‹éƒ½è¦å¹²ã€‚

åœ¨ä½¿ç”¨æ¥å£éš”ç¦»åŸåˆ™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„æ§åˆ¶æ¥å£çš„ç²’åº¦ï¼Œæ¥å£ä¸èƒ½å¤ªå°ï¼Œå¦‚æœå¤ªå°ä¼šå¯¼è‡´ç³»ç»Ÿä¸­æ¥å£æ³›æ»¥ï¼Œä¸åˆ©äºç»´æŠ¤ã€‚æ¥å£ä¹Ÿä¸èƒ½å¤ªå¤§ï¼Œå¤ªå¤§çš„æ¥å£å°†è¿èƒŒæ¥å£éš”ç¦»åŸåˆ™ï¼Œçµæ´»æ€§è¾ƒå·®ï¼Œä½¿ç”¨èµ·æ¥å¾ˆä¸æ–¹ä¾¿ã€‚

**ä¼˜ç‚¹ï¼šé¿å…åŒä¸€ä¸ªæ¥å£é‡Œé¢åŒ…å«ä¸åŒç±»èŒè´£çš„æ–¹æ³•ï¼Œæ¥å£è´£ä»»åˆ’åˆ†æ›´åŠ æ˜ç¡®ï¼Œç¬¦åˆé«˜å†…èšä½è€¦åˆçš„æ€æƒ³ã€‚**

### 2.8 å…­å¤§åŸåˆ™ - å­¦ä¹ å¿ƒå¾—

å…­å¤§åŸåˆ™ä¸­ï¼Œ**å¼€é—­åŸåˆ™**ã€**é‡Œæ°æ›¿æ¢åŸåˆ™**ã€**ä¾èµ–å€’ç½®åŸåˆ™** è”ç³»æ¯”è¾ƒç´§å¯†ï¼Œåä¸¤è€…æ˜¯å®ç°å¼€é—­åŸåˆ™é‡è¦å‰æï¼Œä½¿ç”¨ä¸­é€šè¿‡æŠ½è±¡åŒ–è®¾è®¡å…·æœ‰å¾ˆå¥½çš„å¯æ‹“å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

**çŸ¥é“æœ€å°‘åŸåˆ™** å¯ä»¥é™ä½è€¦åˆï¼Œå‡å°‘ä¸å¿…è¦çš„äº¤äº’ï¼Œä¸»å¼ è®¾è®¡æ¥å£å’Œç±»è¦ç®€å•æ˜“ä½¿ç”¨ï¼Œå°†å¤æ‚çš„é€»è¾‘å°è£…å¹¶æä¾›ç®€å•æ˜“ç”¨çš„æ¥å£ã€‚

**å•ä¸€èŒè´£åŸåˆ™** ä½¿é¡¹ç›®ä¸­çš„ç±»å’Œæ–¹æ³•æ ¹æ®èŒè´£ç»†åˆ†ï¼Œé¿å…å•ä¸ªç±»è´Ÿæ‹…è¿‡é‡ã€‚èŒè´£è¶Šå¤šï¼Œè¢«å¤ç”¨çš„å¯èƒ½æ€§å°±è¶Šå°æˆ–ä½¿ç”¨èµ·æ¥è¶Šéº»çƒ¦ã€‚

**æ¥å£åˆ†ç¦»åŸåˆ™** å°†åŠŸèƒ½å¤æ‚çš„æ¥å£ç»†åˆ†æˆå¤šä¸ªç‰¹å®šåŠŸèƒ½çš„æ¥å£ï¼Œåªåšè¯¥åšçš„äº‹æƒ…ï¼Œé™ä½è€¦åˆï¼Œä½†æ˜¯ç»†åŒ–ç²’åº¦ä¸èƒ½å¤ªç»†ï¼Œå®¹æ˜“å¯¼è‡´æ¥å£è¿‡å¤šã€‚å•ä¸€èŒè´£åŸåˆ™å¼ºè°ƒå•ä¸ªç±»å†…éƒ¨æ ¹æ®èŒè´£ç»†åˆ†çš„è®¾è®¡ï¼Œæ¥å£åˆ†ç¦»åŸåˆ™å¼ºè°ƒç±»ä¹‹é—´çš„è€¦åˆï¼Œå°½é‡å»ºç«‹æœ€å°çš„ä¾èµ–å…³ç³»ã€‚

## è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…è€…æ¨¡å¼å¯¹æ¯”

### è§‚å¯Ÿè€…æ¨¡å¼

ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ

å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»æ—¶ï¼Œå…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šå—åˆ°é€šçŸ¥ï¼Œè¿™å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚

è§‚å¯Ÿè€…æ¨¡å¼æœ‰ä¸¤ç§ä¸»ä½“ï¼šç›®æ ‡å¯¹è±¡ï¼ˆSubjectï¼‰å’Œ è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ã€‚

- ç›®æ ‡å¯¹è±¡ Subject ï¼š
  - ç»´æŠ¤è§‚å¯Ÿè€…åˆ—è¡¨
  - å®šä¹‰æ·»åŠ è§‚å¯Ÿè€…çš„æ–¹æ³•
  - å½“è‡ªèº«å‘ç”Ÿå˜åŒ–åï¼Œé€šè¿‡è°ƒç”¨è‡ªå·±çš„ notify æ–¹æ³•ä¸€æ¬¡é€šçŸ¥æ¯ä¸ªè§‚å¯Ÿè€…æ‰§è¡Œ update æ–¹æ³•
- è§‚å¯Ÿè€… Observer ï¼šéœ€è¦å®ç°update æ–¹æ³•ï¼Œä¾›ç›®æ ‡å¯¹è±¡è°ƒç”¨

```js
class Observer {
    constructor(name) {
        this.name = name;
    }
    update({taskType, taskInfo}) {
        // å‡è®¾ä»»åŠ¡åˆ†ä¸ºæ—¥å¸¸routeå’Œæˆ˜æ–—war
        if (taskType === "route") {
            console.log(`${this.name}ä¸éœ€è¦æ—¥å¸¸ä»»åŠ¡`);
            return;
        }
        this.goToTaskHome(taskInfo);
        
    }
    goToTaskHome(info) {
        console.log(`${this.name}å»ä»»åŠ¡å¤§æ®¿æŠ¢${info}ä»»åŠ¡`);
    }
}

class Subject {
    constructor() {
        this.observerList = []
    }
    addObserver(observer) {
        this.observerList.push(observer);
    }
    notify(task) {
        console.log("å‘å¸ƒäº”æ˜Ÿä»»åŠ¡");
        this.observerList.forEach(observer => observer.update(task))
    }
}

const subject = new Subject();
const stu1 = new Observer("å¼Ÿå­1");
const stu2 = new Observer("å¼Ÿå­2");

// stu1 stu2 è´­ä¹°äº”æ˜Ÿä»»åŠ¡é€šçŸ¥æƒé™
subject.addObserver(stu1);
subject.addObserver(stu2);

// ä»»åŠ¡æ®¿å‘å¸ƒäº”æ˜Ÿæˆ˜æ–—ä»»åŠ¡
const warTask = {
    taskType: 'war',
    taskInfo: "çŒæ€æ—¶åˆ»"
}

// ä»»åŠ¡å¤§æ®¿é€šçŸ¥è´­ä¹°æƒé™å¼Ÿå­
subject.notify(warTask);

// ä»»åŠ¡æ®¿å‘å¸ƒäº”æ˜Ÿæ—¥å¸¸ä»»åŠ¡
const routeTask = {
    taskType: 'route',
    taskInfo: "ç§æ ‘æµ‡æ°´"
}

subject.notify(routeTask);
```

### å‘å¸ƒè®¢é˜…æ¨¡å¼

ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Ÿ

åŸºäºä¸€ä¸ªäº‹ä»¶ï¼ˆä¸»é¢˜ï¼‰é€šé“ï¼Œå¸Œæœ›æ¥æ”¶é€šçŸ¥çš„å¯¹è±¡ Subscriber é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶è®¢é˜…ä¸»é¢˜ï¼Œè¢«æ¿€æ´»äº‹ä»¶çš„å¯¹è±¡ Publisher é€šè¿‡å‘å¸ƒä¸»é¢˜äº‹ä»¶çš„æ–¹å¼é€šçŸ¥å„ä¸ªè®¢é˜…è¯¥ä¸»é¢˜çš„ Subscriber å¯¹è±¡ã€‚

åœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­æœ‰ä¸‰ä¸ªè§’è‰²ï¼šå‘å¸ƒè€… Publisher ï¼Œäº‹ä»¶è°ƒåº¦ä¸­å¿ƒ Event Channelï¼ˆä¸­ä»‹ï¼‰ï¼Œè®¢é˜…è€… Subscriberã€‚

- Publisher ä»»åŠ¡å‘å¸ƒè€…
- äº‹ä»¶è°ƒåº¦ä¸­å¿ƒ Event Channel
  - ç»´æŠ¤ä»»åŠ¡ç±»å‹ï¼Œä»¥åŠæ¯ç§ä»»åŠ¡ä¸‹çš„è®¢é˜…æƒ…å†µ
  - ç»™è®¢é˜…è€…æä¾›è®¢é˜…åŠŸèƒ½â€”â€” subscribe åŠŸèƒ½
  - å½“ Publisher å‘å¸ƒä»»åŠ¡åï¼Œä¸­ä»‹ä¼šç»™æ‰€æœ‰çš„è®¢é˜…è€…å‘å¸ƒä»»åŠ¡â€”â€” publish åŠŸèƒ½
- Subscriber ä»»åŠ¡æ¥å—è€…

<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8fc5d255760a4192a939785e427fabec~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="publish-subscribe.png" style="zoom:70%;" />

```js
class PubSub {
    constructor() {
        // äº‹ä»¶ä¸­å¿ƒ
        // å­˜å‚¨æ ¼å¼: warTask: [], routeTask: []
        // æ¯ç§äº‹ä»¶(ä»»åŠ¡)ä¸‹å­˜æ”¾å…¶è®¢é˜…è€…çš„å›è°ƒå‡½æ•°
        this.events = {}
    }
    // è®¢é˜…æ–¹æ³•
    subscribe(type, cb) {
        if (!this.events[type]) {
            this.events[type] = [];
        }
        this.events[type].push(cb);
    }
    // å‘å¸ƒæ–¹æ³•
    publish(type, ...args) {
        if (this.events[type]) {
            this.events[type].forEach(cb => cb(...args))
        }
    }
    // å–æ¶ˆè®¢é˜…æ–¹æ³•
    unsubscribe(type, cb) {
        if (this.events[type]) {
            const cbIndex = this.events[type].findIndex(e=> e === cb)
            if (cbIndex != -1) {
                this.events[type].splice(cbIndex, 1);
            }
        }
        if (this.events[type].length === 0) {
            delete this.events[type];
        }
    }
    unsubscribeAll(type) {
        if (this.events[type]) {
            delete this.events[type];
        }
    }
}

// åˆ›å»ºä¸€ä¸ªä¸­ä»‹å…¬å¸
let pubsub = new PubSub();

// å¼Ÿå­ä¸€è®¢é˜…æˆ˜æ–—ä»»åŠ¡
pubsub.subscribe('warTask', function (taskInfo){
    console.log("å®—é—¨æ®¿å‘å¸ƒæˆ˜æ–—ä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:" + taskInfo);
})
// å¼Ÿå­ä¸€è®¢é˜…æˆ˜æ–—ä»»åŠ¡
pubsub.subscribe('routeTask', function (taskInfo) {
    console.log("å®—é—¨æ®¿å‘å¸ƒæ—¥å¸¸ä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:" + taskInfo);
});
// å¼Ÿå­ä¸‰è®¢é˜…å…¨ç±»å‹ä»»åŠ¡
pubsub.subscribe('allTask', function (taskInfo) {
    console.log("å®—é—¨æ®¿å‘å¸ƒäº”æ˜Ÿä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:" + taskInfo);
});

// å‘å¸ƒæˆ˜æ–—ä»»åŠ¡
pubsub.publish('warTask', "çŒæ€æ—¶åˆ»");
pubsub.publish('allTask', "çŒæ€æ—¶åˆ»");

// å‘å¸ƒæ—¥å¸¸ä»»åŠ¡
pubsub.publish('routeTask', "ç§æ ‘æµ‡æ°´");
pubsub.publish('allTask', "ç§æ ‘æµ‡æ°´");
```

**å‘å¸ƒ-è®¢é˜…æ¨¡å¼ç”¨æ¥å¤„ç†ä¸åŒç³»ç»Ÿç»„ä»¶çš„ä¿¡æ¯äº¤æµï¼Œå³ä½¿è¿™äº›ç»„ä»¶ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚**

### å¯¹æ¯”æ€»ç»“

<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52a175a22ade4793a0297b18c5fb293d~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="observer-publish_subscribe.png" style="zoom:67%;" />

| è®¾è®¡æ¨¡å¼ | è§‚å¯Ÿè€…æ¨¡å¼                                    | å‘å¸ƒè®¢é˜…æ¨¡å¼                                            |
| -------- | --------------------------------------------- | ------------------------------------------------------- |
| ä¸»ä½“     | ObServerè§‚å¯Ÿè€…ã€Subjectç›®æ ‡å¯¹è±¡               | Publisherå‘å¸ƒè€…ã€Event Channeläº‹ä»¶ä¸­å¿ƒã€Subscribeè®¢é˜…è€… |
| ä¸»ä½“å…³ç³» | Subjectä¸­é€šè¿‡observerListè®°å½•ObServer         | Publisherå’ŒSubscribeä¸æƒ³ä¸çŸ¥é“å¯¹æ–¹ï¼Œé€šè¿‡ä¸­ä»‹è”ç³»        |
| ä¼˜ç‚¹     | è§’è‰²æ˜ç¡®ï¼ŒSubjectå’ŒObjectè¦éµå¾ªçº¦å®šçš„æˆå‘˜æ–¹æ³• | æ¾æ•£è€¦åˆï¼Œçµæ´»åº¦é«˜ï¼Œé€šå¸¸åº”ç”¨åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­                |
| ç¼ºç‚¹     | ç´§è€¦åˆ                                        | å½“äº‹ä»¶ç±»å‹å˜å¤šæ—¶ï¼Œä¼šå¢åŠ ç»´æŠ¤æˆæœ¬                        |
| ä½¿ç”¨æ¡ˆä¾‹ | åŒå‘æ•°æ®ç»‘å®š                                  | äº‹ä»¶æ€»çº¿EventBus                                        |







äº«å…ƒæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ï¼ˆif-elseæ”¹æˆmapï¼‰



# ç»“åˆä¸šåŠ¡åœºæ™¯

## äº«å…ƒæ¨¡å¼

äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç”¨äº**æ€§èƒ½ä¼˜åŒ–**~**æ—¶é—´æ¢ç©ºé—´**çš„æ¨¡å¼ï¼Œæ ¸å¿ƒæ˜¯è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆæ”¯æŒå¤§é‡ç»†åˆ»åº¦çš„å¯¹è±¡ã€‚

#### ç¤ºä¾‹ï¼šæ–‡ä»¶ä¸Šä¼ 

```js
var Upload = function(uploadType) {
    this.uploadType = uploadType;
}

/* åˆ é™¤æ–‡ä»¶ï¼ˆå†…éƒ¨çŠ¶æ€ï¼‰ */
Upload.prototype.delFile = function(id) {
    uploadManger.setExternalState(id, this);    // æŠŠå½“å‰idå¯¹åº”çš„å¤–éƒ¨çŠ¶æ€éƒ½ç»„è£…åˆ°å…±äº«å¯¹è±¡ä¸­
    // å¤§äº3000kæç¤º
    if(this.fileSize < 3000) {
        return this.dom.parentNode.removeChild(this.dom);
    }
    if(window.confirm("ç¡®å®šè¦åˆ é™¤æ–‡ä»¶å—ï¼Ÿ" + this.fileName)) {
        return this.dom.parentNode.removeChild(this.dom);
    }
}

/** å·¥å‚å¯¹è±¡å®ä¾‹åŒ– 
 *  å¦‚æœæŸç§å†…éƒ¨çŠ¶æ€çš„å…±äº«å¯¹è±¡å·²ç»è¢«åˆ›å»ºè¿‡ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›è¿™ä¸ªå¯¹è±¡
 *  å¦åˆ™ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡
 */
var UploadFactory = (function() {
    var createdFlyWeightObjs = {};
    return {
        create: function(uploadType) {
            if(createdFlyWeightObjs[uploadType]) {
                return createdFlyWeightObjs[uploadType];
            }
            return createdFlyWeightObjs[uploadType] = new Upload(uploadType);
        }
    };
})();

/* ç®¡ç†å™¨å°è£…å¤–éƒ¨çŠ¶æ€ */
var uploadManger = (function() {
    var uploadDatabase = {};

    return {
        add: function(id, uploadType, fileName, fileSize) {
            var flyWeightObj = UploadFactory.create(uploadType);
            var dom = document.createElement('div');
            dom.innerHTML = "<span>æ–‡ä»¶åç§°ï¼š" + fileName + "ï¼Œæ–‡ä»¶å¤§å°ï¼š" + fileSize +"</span>"
                          + "<button class='delFile'>åˆ é™¤</button>";

            dom.querySelector(".delFile").onclick = function() {
                flyWeightObj.delFile(id);
            };
            document.body.appendChild(dom);

            uploadDatabase[id] = {
                fileName: fileName,
                fileSize: fileSize,
                dom: dom
            };

            return flyWeightObj;
        },
        setExternalState: function(id, flyWeightObj) {
            var uploadData = uploadDatabase[id];
            for(var i in uploadData) {
                // ç›´æ¥æ”¹å˜å½¢å‚ï¼ˆæ–°æ€è·¯ï¼ï¼ï¼‰
                flyWeightObj[i] = uploadData[i];
            }
        }
    };
})();

/*è§¦å‘ä¸Šä¼ åŠ¨ä½œ*/
var id = 0;
window.startUpload = function(uploadType, files) {
    for(var i=0,file; file = files[i++];) {
        var uploadObj = uploadManger.add(++id, uploadType, file.fileName, file.fileSize);
    }
};

/* æµ‹è¯• */
startUpload("plugin", [
    {
        fileName: '1.txt',
        fileSize: 1000
    },{
        fileName: '2.txt',
        fileSize: 3000
    },{
        fileName: '3.txt',
        fileSize: 5000
    }
]);
startUpload("flash", [
    {
        fileName: '4.txt',
        fileSize: 1000
    },{
        fileName: '5.txt',
        fileSize: 3000
    },{
        fileName: '6.txt',
        fileSize: 5000
    }
]);
```



## ç­–ç•¥æ¨¡å¼

## å¤–è§‚æ¨¡å¼

# ç»“åˆæ¡†æ¶æºç 

## è£…é¥°å™¨æ¨¡å¼

## è§‚å¯Ÿè€…æ¨¡å¼

## å•ä¾‹æ¨¡å¼

## å¤‡å¿˜å½•æ¨¡å¼

# ç»“åˆJSåŸç†

## è¿­ä»£å™¨æ¨¡å¼

## åŸå‹æ¨¡å¼





# å…¶ä»–

### è§‚å¯Ÿè€…æ¨¡å¼

> è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«å®Œæˆä¸šåŠ¡çš„æ›´æ–°ã€‚

è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºæ¨¡å¼ï¼Œä¸€ä¸ªå¯¹è±¡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡ï¼‰éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œè¿›è¡Œå¹¿æ’­é€šçŸ¥ã€‚å®ƒçš„æˆå‘˜ä¸»è¦æ˜¯**è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…**ã€‚

**è¢«è§‚å¯Ÿè€…ï¼š**ç›®æ ‡å¯¹è±¡ï¼ŒçŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå°†é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ï¼›

**è§‚å¯Ÿè€…ï¼š**æ¥å—è¢«è§‚å¯Ÿè€…çš„çŠ¶æ€å˜åŒ–é€šçŸ¥ï¼Œæ‰§è¡Œé¢„å…ˆå®šä¹‰çš„ä¸šåŠ¡ã€‚



### å‘å¸ƒ-è®¢é˜…è€…æ¨¡å¼

### ç­–ç•¥æ¨¡å¼

ç­–ç•¥æ¨¡å¼å®šä¹‰äº†ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©å®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œæ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ç­–ç•¥æ¨¡å¼é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸ªç®—æ³•å°è£…å¸¦å…·æœ‰å…±åŒç»“æ„çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚

> å‡è®¾ä½ è·Ÿä¸åŒæ€§æ ¼ç±»å‹çš„å°å§å§çº¦ä¼šï¼Œè¦ç”¨ä¸åŒçš„ç­–ç•¥ï¼Œæœ‰çš„è¯·ç”µå½±æ¯”è¾ƒå¥½ï¼Œæœ‰çš„åˆ™å»åƒå°åƒæ•ˆæœä¸é”™ï¼Œæœ‰çš„å»é€›è¡—ä¹°ä¹°ä¹°æœ€åˆé€‚ã€‚å½“ç„¶ï¼Œç›®çš„éƒ½æ˜¯ä¸ºäº†å¾—åˆ°å°å§å§çš„èŠ³å¿ƒï¼Œè¯·çœ‹ç”µå½±ã€åƒå°åƒã€é€›è¡—å°±æ˜¯ä¸åŒçš„ç­–ç•¥ã€‚



### è´£ä»»é“¾æ¨¡å¼

> è´£ä»»é“¾æ¨¡å¼ä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ã€‚æ‰§è¡Œé“¾ä¸Šæœ‰å¤šä¸ªå¯¹è±¡èŠ‚ç‚¹ï¼Œæ¯ä¸ªå¯¹è±¡èŠ‚ç‚¹éƒ½æœ‰æœºä¼šï¼ˆæ¡ä»¶åŒ¹é…ï¼‰å¤„ç†è¯·æ±‚äº‹åŠ¡ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡èŠ‚ç‚¹å¤„ç†å®Œäº†ï¼Œå°±å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç»§ç»­å¤„ç†æˆ–è€…è¿”å›å¤„ç†å®Œæ¯•ã€‚è¿™ç§æ¨¡å¼ç»™äºˆè¯·æ±‚çš„ç±»å‹ï¼Œå¯¹è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œè§£è€¦ã€‚

è´£ä»»é“¾æ¨¡å¼å®é™…ä¸Šæ˜¯ä¸€ç§å¤„ç†è¯·æ±‚çš„æ¨¡å¼ï¼Œå®ƒè®©å¤šä¸ªå¤„ç†å™¨ï¼ˆå¯¹è±¡èŠ‚ç‚¹ï¼‰éƒ½æœ‰æœºä¼šå¤„ç†è¯¥è¯·æ±‚ï¼Œç›´åˆ°å…¶ä¸­æŸä¸ªå¤„ç†æˆåŠŸä¸ºæ­¢ã€‚



### æ¨¡æ¿æ–¹æ³•æ¨¡å¼

å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶æµç¨‹ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œçš„ä¸€ç³»åˆ—æ­¥éª¤ï¼Œå¯¹äºæŸäº›æš‚æ—¶ç¡®å®šä¸ä¸‹æ¥çš„æ­¥éª¤ï¼Œå°±ç•™ç»™å­ç±»å»å®ç°ï¼Œè¿™æ ·ä¸åŒçš„å­ç±»å°±å¯ä»¥å®šä¹‰å‡ºä¸åŒçš„æ­¥éª¤ã€‚



### å·¥å‚æ¨¡å¼

å·¥å‚æ¨¡å¼ä¸€èˆ¬é…åˆç­–ç•¥æ¨¡å¼ä¸€èµ·ä½¿ç”¨ã€‚ç”¨æ¥å»ä¼˜åŒ–å¤§é‡çš„`if...else...`æˆ–`switch...case...`æ¡ä»¶è¯­å¥ã€‚



### åŸå‹æ¨¡å¼

Prototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œæ—¢ä¸æ˜¯å·¥å‚ä¹Ÿä¸æ˜¯ç›´æ¥ Newï¼Œè€Œæ˜¯ä»¥æ‹·è´çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚

**æ„å›¾ï¼šç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚**

åŸå‹å®ä¾‹å°±æ˜¯è¢«é€‰ä¸ºæ‹·è´æ¨¡æ¿çš„é‚£ä¸ªå¯¹è±¡ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒåŸå‹æ¨¡å¼çš„æ‹·è´å»ºè®®ç”¨**æ·±æ‹·è´**ï¼Œæ¯•ç«Ÿæ–°å¯¹è±¡æœ€å¥½ä¸è¦å½±å“åˆ°æ—§å¯¹è±¡ï¼Œä½†æ˜¯åœ¨æ·±æ‹·è´æ€§èƒ½é—®é¢˜è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘æ·±æµ…æ‹·è´ç»“åˆï¼Œä¹Ÿå°±æ˜¯å°†åœ¨æ–°å¯¹è±¡ä¸­ä¸ä¼šä¿®æ”¹çš„æ•°æ®ä½¿ç”¨æµ…æ‹·è´ï¼Œå¯èƒ½è¢«ä¿®æ”¹çš„æ•°æ®ä½¿ç”¨æ·±æ‹·è´ã€‚





### å•ä¾‹æ¨¡å¼

> å•ä¾‹æ¨¡å¼(Singleton Pattern)ï¼šå•ä¾‹æ¨¡å¼ç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å‰§è®¿é—®ç‚¹ã€‚

**åœºæ™¯ï¼š**å•å‡»ç™»å½•æŒ‰é’®å‡ºç°æµ®çª—ï¼Œæ— è®ºå•å‡»å¤šå°‘æ¬¡ç™»å½•æŒ‰é’®ï¼Œæµ®çª—åªä¼šè¢«åˆ›å»ºä¸€æ¬¡ï¼Œé‚£ä¹ˆè¿™ä¸ªç™»å½•æµ®çª—å°±é€‚åˆç”¨å•ä¾‹æ¨¡å¼æ¥åˆ›å»ºã€‚

#### å®ç°å•ä¾‹æ¨¡å¼

æ€è·¯ï¼šç”¨ä¸€ä¸ªå˜é‡æ¥æ ‡å¿—å½“å‰æ˜¯å¦å·²ç»ä¸ºæŸä¸ªç±»åˆ›å»ºè¿‡å¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™åœ¨ä¸‹æ¬¡è·å–è¯¥ç±»çš„å®ä¾‹æ—¶ï¼Œç›´æ¥è¿”å›ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡ã€‚

##### ç®€å•å®ç°

```js
        var Singleton = function( name ){
            this.name = name;
            this.instance = null;
        };

        Singleton.prototype.getName = function(){
            alert ( this.name );
        };

        Singleton.getInstance = function( name ){
            if ( ! this.instance ){
              this.instance = new Singleton( name );
            }
            return this.instance;
        };

        var a = Singleton.getInstance( 'sven1' );
        var b = Singleton.getInstance( 'sven2' );

        alert ( a === b );    // true
```

#### é€æ˜çš„å•ä¾‹æ¨¡å¼

åœ¨é¡µé¢ä¸­åˆ›å»ºå”¯ä¸€çš„ div èŠ‚ç‚¹ï¼š

```js
        var CreateDiv = (function(){

            var instance;

            var CreateDiv = function( html ){
              if ( instance ){
                  return instance;
              }
              this.html = html;
              this.init();
              return instance = this;
          };

          CreateDiv.prototype.init = function(){
              var div = document.createElement( 'div' );
              div.innerHTML = this.html;
              document.body.appendChild( div );
          };

          return CreateDiv;

        })();

        var a = new CreateDiv( 'sven1' );
        var b = new CreateDiv( 'sven2' );

        alert ( a === b );     // true
```

ç¼ºç‚¹ï¼šä¸ç¬¦åˆâ€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚

#### ç”¨ä»£ç†å®ç°å•ä¾‹æ¨¡å¼

```js
        var CreateDiv = function( html ){
            this.html = html;
            this.init();
        };

        CreateDiv.prototype.init = function(){
            var div = document.createElement( 'div' );
            div.innerHTML = this.html;
            document.body.appendChild( div );
        };
```

å¼•å…¥ä»£ç†ç±» proxySingletonCreateD ï¼ŒæŠŠè´Ÿè´£ç®¡ç†å•ä¾‹çš„é€»è¾‘ç§»åˆ°ä»£ç†ç±»ä¸­ï¼š

```js
        var ProxySingletonCreateDiv = (function(){

            var instance;
            return function( html ){
              if ( !instance ){
                  instance = new CreateDiv( html );
              }

              return instance;
            }

        })();

        var a = new ProxySingletonCreateDiv( 'sven1' );
        var b = new ProxySingletonCreateDiv( 'sven2' );

        alert ( a === b );
```

#### æƒ°æ€§å•ä¾‹

æƒ°æ€§å•ä¾‹ æŒ‡çš„æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚